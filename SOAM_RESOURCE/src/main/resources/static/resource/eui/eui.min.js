/*
 * eui
 * 

 * Version: 0.0.6 - 2017-01-11
 * License: 
 */

document.getViewportHeight=function(){return window.innerHeight!=window.undefined?window.innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body?document.body.clientHeight:window.undefined},document.getViewportWidth=function(){return window.innerWidth!=window.undefined?window.innerWidth:"CSS1Compat"==document.compatMode?document.documentElement.clientWidth:document.body?document.body.clientWidth:void 0},Mask={showing:!1,mask:null,container:null,isIE6:null,init:function(){var a=parseInt(window.navigator.appVersion.charAt(0),10);6>=a&&window.navigator.userAgent.indexOf("MSIE")>-1?this.isIE6=!0:this.isIE6=!1;var b=document.createElement("div");b.id="mask",document.body.appendChild(b),this.mask=document.getElementById("mask");var c=document.createElement("div");c.id="popupContainer",c.innerHTML="<div class='popupFrame'></div>",document.body.appendChild(c),this.container=document.getElementById("popupContainer")},setMaskSize:function(){var a=document.body,b=document.getViewportHeight(),c=document.getViewportWidth();b>a.scrollHeight?this.popHeight=b:this.popHeight=a.scrollHeight,c>a.scrollWidth?this.popWidth=c:this.popWidth=a.scrollWidth,this.mask.style.height=this.popHeight+"px",this.mask.style.width=this.popWidth+"px"},toCenter:function(a){var b=this.container.style;b.left=(document.getViewportWidth()-a.width)/2+"px",b.top=(document.getViewportHeight()-a.height)/2+"px"},show:function(a){eui.isEmpty&&(a={title:"温馨提示",width:250,height:80,content:"数据加载中。。。"}),this.init(),this.setMaskSize(),this.container.style.width=a.width+"px",this.container.style.height=a.height+"px";var b=$(".popupFrame")[0];this.toCenter(a),b.innerHTML="<table style='width:100%;height:100%;text-align: center;'><tr class='maskTitleBar'><td class='maskTitle' colspan='2'>"+a.title+"</td></tr><tr class='maskContent'><td><img style='width:30px;height:30px;margin-left: 10px' src='/themes/default/images/loading.gif'/></td><td style='text-align: left;'>"+a.content+"</td></tr></table>",this.showing=!0},hide:function(){document.body.removeChild(this.mask),document.body.removeChild(this.container),this.showing=!1},isShowing:function(){return this.showing}},angular.module("eui",["eui.tpls","eui.collapse","eui.accordion","eui.alert","eui.block","eui.button","eui.buttons","eui.carousel","eui.checkbox","eui.combo","eui.comboCheckbox","eui.tree","eui.comboTree","eui.customnav","eui.dateparser","eui.position","eui.datepicker","eui.dropdown","eui.stackedMap","eui.modal","eui.window","eui.fieldset","eui.fileupload","eui.grid","eui.input","eui.layout","eui.loadcontrols","eui.menus","eui.messageBox","eui.pagination","eui.panel","eui.tooltip","eui.popover","eui.progressbar","eui.radio","eui.rating","eui.rightMenu","eui.scrollbar","eui.scrolltabset","eui.service","eui.tabs","eui.timepicker","eui.timespinner","eui.typeahead"]),angular.module("eui.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/block/block.html","template/button/button.html","template/carousel/carousel.html","template/carousel/slide.html","template/checkbox/checkbox.html","template/combo/combo.html","template/comboCheckbox/comboCheckbox.html","template/tree/tree.html","template/comboTree/comboTree.html","template/customnav/customnav.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/window/window.html","template/fieldset/fieldset.html","template/fileupload/fileupload.html","template/grid/grid.html","template/menus/menuitem.html","template/menus/menus.html","template/menus/menusIcon.html","template/messageBox/alertContent.html","template/messageBox/confirmContent.html","template/pagination/pager.html","template/pagination/pagination.html","template/panel/panel.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/radio/radio.html","template/rating/rating.html","template/scrollbar/scrollbar.html","template/scrolltabset/scrolltabset.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/timespinner/timespinner.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("eui.collapse",[]).directive("euiCollapse",["$animate","$injector",function(a,b){var c=b.has("$animateCss")?b.get("$animateCss"):null;return{link:function(b,d,e){function f(){d.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),c?c(d,{addClass:"in",easing:"ease",to:{height:d[0].scrollHeight+"px"}}).start()["finally"](g):a.addClass(d,"in",{to:{height:d[0].scrollHeight+"px"}}).then(g)}function g(){d.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function h(){return d.hasClass("collapse")||d.hasClass("in")?(d.css({height:d[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(c?c(d,{removeClass:"in",to:{height:"0"}}).start()["finally"](i):a.removeClass(d,"in",{to:{height:"0"}}).then(i))):i()}function i(){d.css({height:"0"}),d.removeClass("collapsing").addClass("collapse")}b.$watch(e.euiCollapse,function(a){a?h():f()})}}}]),angular.module("eui.accordion",["eui.collapse"]).constant("euiAccordionConfig",{closeOthers:!0}).controller("EuiAccordionController",["$scope","$attrs","euiAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("euiAccordion",function(){return{controller:"EuiAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"}}}).directive("euiAccordionGroup",function(){return{require:"^euiAccordion",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass,a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)}}}}).directive("euiAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^euiAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("euiAccordionTransclude",function(){return{require:["?^euiAccordionGroup","?^accordionGroup"],link:function(a,b,c,d){d=d[0]?d[0]:d[1],a.$watch(function(){return d[c.euiAccordionTransclude]},function(a){a&&(b.find("span").html(""),b.find("span").append(a))})}}}),angular.module("eui.alert",[]).controller("EuiAlertController",["$scope","$attrs","$timeout",function(a,b,c){a.closeable=!!b.close,angular.isDefined(b.dismissOnTimeout)&&c(function(){a.close()},parseInt(b.dismissOnTimeout,10))}]).directive("euiAlert",function(){return{controller:"EuiAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("eui.block",[]).directive("euiBlock",function(){return{restrict:"E",templateUrl:"template/block/block.html",transclude:!0,replace:!0,scope:{title:"@"},compile:function(a,b,c){return function(a,b,d){b.children().eq(1).append(c(a.$parent))}}}}),angular.module("eui.button",[]).directive("euiButton",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/button/button.html"},replace:!0,transclude:!0,scope:{enabled:"=?",plain:"=?",onlyIcon:"@",allow:"@",iconCls:"@",oneclick:"&?",ondbclick:"&"},compile:function(a,b,c){return function(a,b,d){a.enabled=a.enabled===!1||"false"===a.enabled?!1:!0,a.plain=a.plain===!0||"true"===a.plain?!0:!1,a.onlyIcon=a.onlyIcon===!0||"true"===a.onlyIcon?!0:!1,a.allow=a.allow===!0||"true"===a.allow?!0:!1,a.iconCls=a.iconCls?a.iconCls:"",b.find(".eui-button-text").append(c(a.$parent)),b.bind("dblclick",function(){a.enabled&&a.ondbclick()});var e=function(){a.enabled?$(b).hasClass("eui-button-disabled")&&$(b).removeClass("eui-button-disabled"):$(b).hasClass("eui-button-disabled")||$(b).addClass("eui-button-disabled")};e(),a.$watch("enabled",e,!0),a.iconCls&&($(b).children().eq(0).addClass(a.iconCls),d.onlyIcon?($(b).children().eq(0).html("&nbsp"),$(b).children().eq(0).addClass("eui-button-iconOnly")):$(b).children().eq(0).addClass("eui-button-icon")),a.plain?$(b).hasClass("eui-button-plain")||$(b).addClass("eui-button-plain"):$(b).hasClass("eui-button-plain")&&$(b).removeClass("eui-button-plain"),a.allow&&$(b).find(".eui-button-allow").css("display","inline-block")}}}}]).factory("safeApply",function(a){return function(a,b){var c=a.$root.$$phase;"$apply"==c||"$digest"==c?b&&"function"==typeof b&&b():a.$apply(b)}}),angular.module("eui.buttons",[]).constant("euiButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("EuiButtonsController",["euiButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("euiBtnRadio",function(){return{require:["euiBtnRadio","ngModel"],controller:"EuiButtonsController",controllerAs:"buttons",link:function(a,b,c,d){var e=d[0],f=d[1];b.find("input").css({display:"none"}),f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.euiBtnRadio)))},b.on(e.toggleEvent,function(){if(!c.disabled){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.euiBtnRadio)),f.$render()})}})}}}).directive("euiBtnCheckbox",function(){return{require:["euiBtnCheckbox","ngModel"],controller:"EuiButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("eui.carousel",[]).controller("EuiCarouselController",["$scope","$element","$interval","$animate",function(a,b,c,d){function e(b,c,e){s||(angular.extend(b,{direction:e,active:!0}),angular.extend(m.currentSlide||{},{direction:e,active:!1}),d.enabled()&&!a.noTransition&&!a.$currentTransition&&b.$element&&m.slides.length>1&&(b.$element.data(q,b.direction),m.currentSlide&&m.currentSlide.$element&&m.currentSlide.$element.data(q,b.direction),a.$currentTransition=!0,o?d.on("addClass",b.$element,function(b,c){"close"===c&&(a.$currentTransition=null,d.off("addClass",b))}):b.$element.one("$animate:close",function(){a.$currentTransition=null})),m.currentSlide=b,r=c,g())}function f(a){if(angular.isUndefined(n[a].index))return n[a];var b;n.length;for(b=0;b<n.length;++b)if(n[b].index==a)return n[b]}function g(){h();var b=+a.interval;!isNaN(b)&&b>0&&(k=c(i,b))}function h(){k&&(c.cancel(k),k=null)}function i(){var b=+a.interval;l&&!isNaN(b)&&b>0&&n.length?a.next():a.pause()}function j(b){b.length||(a.$currentTransition=null)}var k,l,m=this,n=m.slides=a.slides=[],o=angular.version.minor>=4,p="eui-noTransition",q="eui-slideDirection",r=-1;m.currentSlide=null;var s=!1;m.select=a.select=function(b,c){var d=a.indexOfSlide(b);void 0===c&&(c=d>m.getCurrentIndex()?"next":"prev"),b&&b!==m.currentSlide&&!a.$currentTransition&&e(b,d,c)},a.$on("$destroy",function(){s=!0}),m.getCurrentIndex=function(){return m.currentSlide&&angular.isDefined(m.currentSlide.index)?+m.currentSlide.index:r},a.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:n.indexOf(a)},a.next=function(){var b=(m.getCurrentIndex()+1)%n.length;return 0===b&&a.noWrap()?void a.pause():m.select(f(b),"next")},a.prev=function(){var b=m.getCurrentIndex()-1<0?n.length-1:m.getCurrentIndex()-1;return a.noWrap()&&b===n.length-1?void a.pause():m.select(f(b),"prev")},a.isActive=function(a){return m.currentSlide===a},a.$watch("interval",g),a.$watchCollection("slides",j),a.$on("$destroy",h),a.play=function(){l||(l=!0,g())},a.pause=function(){a.noPause||(l=!1,h())},m.addSlide=function(b,c){b.$element=c,n.push(b),1===n.length||b.active?(m.select(n[n.length-1]),1===n.length&&a.play()):b.active=!1},m.removeSlide=function(a){angular.isDefined(a.index)&&n.sort(function(a,b){return+a.index>+b.index});var b=n.indexOf(a);n.splice(b,1),n.length>0&&a.active?b>=n.length?m.select(n[b-1]):m.select(n[b]):r>b&&r--,0===n.length&&(m.currentSlide=null)},a.$watch("noTransition",function(a){b.data(p,a)})}]).directive("euiCarousel",[function(){return{transclude:!0,replace:!0,controller:"EuiCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("euiSlide",function(){return{require:"^euiCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$injector","$animate",function(a,b){function c(a,b,c){a.removeClass(b),c&&c()}var d="eui-noTransition",e="eui-slideDirection",f=null;return a.has("$animateCss")&&(f=a.get("$animateCss")),{beforeAddClass:function(a,g,h){if("active"==g&&a.parent()&&a.parent().parent()&&!a.parent().parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k+" "+j,h);return a.addClass(j),f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()},beforeRemoveClass:function(a,g,h){if("active"===g&&a.parent()&&a.parent().parent()&&!a.parent().parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k,h);return f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()}}}]),angular.module("eui.checkbox",[]).directive("euiCheckbox",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/checkbox/checkbox.html"},replace:!0,scope:{checkboxData:"=",checkedData:"=",width:"@",height:"@"},link:function(a,b,c){function d(){var a,b=32,c=16,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(c=c||d.length,b)for(a=0;b>a;a++)e[a]=d[0|Math.random()*c];else{var f;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",a=0;36>a;a++)e[a]||(f=0|16*Math.random(),e[a]=d[19==a?3&f|8:f])}return e.join("")}var e,f,g,h=[],i=["left","right"];e=a.width?a.width:"170px",f=a.height?a.height:"100px",g=c.labelPosition?c.labelPosition:"right","-1"===i.indexOf(g)&&(g="right"),a.styletype="eui-checkbox","right"==g&&(a.styletype="eui-checkbox-r");for(var j=0;j<a.checkboxData.length;j++){var k=d(),l={uuid:k,rlabel:"",llabel:"",label:"",value:"",disabled:"",checked:"",show:!0};"right"===g?l.rlabel=a.checkboxData[j].label:l.llabel=a.checkboxData[j].label,l.label=a.checkboxData[j].label,l.value=a.checkboxData[j].value,l.disabled=a.checkboxData[j].disabled,l.checked=a.checkboxData[j].checked?a.checkboxData[j].checked:!1,("false"==a.checkboxData[j].show||0==a.checkboxData[j].show)&&(l.show=!1),h.push(l)}a.data=h,a.checkboxStyle={width:e,height:f},a.getCheckedRows=function(){a.checkedData=[];for(var b=0;b<a.data.length;b++)a.data[b].checked&&a.checkedData.push(h[b])};var m=function(){a.checkedData=[];for(var b=0;b<h.length;b++)h[b].checked&&a.checkedData.push(h[b])};a.$watch("scope.data",m,!0)}}}]),angular.module("eui.combo",[]).directive("euiCombo",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/combo/combo.html"},replace:!0,scope:{onClick:"&",iconCls:"@",combo:"=?",width:"=",height:"=",inputDisabled:"@",disabled:"="},link:function(a,b,c){function d(){"true"===a.disabled||a.disabled===!0?(a.inputDisabled=!0,a.onButtonClick=function(a){a.stopPropagation()},$(b).find(".eui-buttonedit-border").hasClass("eui-buttonedit-disabled")||$(b).find(".eui-buttonedit-border").addClass("eui-buttonedit-disabled")):("true"===c.inputDisabled?a.inputDisabled=!0:a.inputDisabled=!1,$(b).find(".eui-buttonedit-border").hasClass("eui-buttonedit-disabled")&&$(b).find(".eui-buttonedit-border").removeClass("eui-buttonedit-disabled"),a.onButtonClick=function(b){b.stopPropagation(),a.onClick()})}var e,f,g;e=a.width?a.width:"170px",f=a.height?a.height:"25px",g=a.iconCls?a.iconCls:"eui-buttonedit-icon","true"===c.inputDisabled?a.inputDisabled=!0:a.inputDisabled=!1,a.combo||(a.combo={text:""}),$(b).find(".eui-buttonedit-buttons").children().eq(0).addClass(g),a.onClick||alert("请设置点击事件函数"),a.inputStyle={width:e,height:f,"border-width":"0px"},a.buttonStyle={width:f,height:f,display:"block"},a.$watch("disabled",d,!0)}}}]),angular.module("eui.comboCheckbox",["eui.combo"]).directive("euiComboCheckbox",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/comboCheckbox/comboCheckbox.html"},replace:!0,scope:{selectData:"=",selectedRows:"=",checkbox:"@",disabled:"="},link:function(a,b,c){function d(){if(a.combo||(a.combo={}),a.combo&&a.combo.text&&(a.combo.text=""),"true"===a.checkbox){if(a.selectedRows=[],angular.isArray(a.selectData))for(var b=0;b<a.selectData.length;b++){var c=a.selectData[b];(1==c.checked||"true"==c.checked)&&(""===a.combo.text?a.combo.text=c.name:a.combo.text=a.combo.text+","+c.name,a.selectedRows.push(c),a.selectData[b].style="eui-combobox-item-selected")}}else if(angular.isArray(a.selectData))for(var b=0;b<a.selectData.length;b++)if(1==a.selectData[b].selected||"true"==a.selectData[b].selected)return a.combo.text=a.selectData[b].name,a.selectedRows=a.selectData[b],a.selectData[b].style="eui-combobox-item-selected",void(g=b)}var e,f,g,h=[];e=c.width?c.width:"170px",f=c.height?c.height:"25px",a.comboWidth=e,a.comboHeight=f,a.selectHeight=c.selectHeight?c.selectHeight:"200px",a.selectedRows=[];a.selectData;$(document).bind("click",function(a){$(b).children().eq(1).css("display","none")}),a.panelStyle={position:"absolute","z-index":"110008",display:"none",width:e,top:f,overflow:"auto"},a.comboStyle={padding:"0",height:a.selectHeight},a.select=function(c,d,e){var f;if(e.stopPropagation(),"true"===a.checkbox)if($(b).children().eq(1).children().eq(0).children().eq(d).hasClass("eui-combobox-item-selected"))if($(b).children().eq(1).children().eq(0).children().eq(d).removeClass("eui-combobox-item-selected"),a.combo.text===c.name)a.combo.text="",a.selectedRows=[];else{h=a.combo.text.split(","),f=h.indexOf(c.name),h.splice(f,1),a.combo.text=h.join(",");for(var i in a.selectedRows)a.selectedRows[i].name===c.name&&a.selectedRows.splice(i,1)}else $(b).children().eq(1).children().eq(0).children().eq(d).addClass("eui-combobox-item-selected"),a.combo.text&&""!==a.combo.text?a.combo.text=a.combo.text+","+c.name:a.combo.text=c.name,a.selectedRows.push(c);else $(b).children().eq(1).children().eq(0).children().eq(d).hasClass("eui-combobox-item-selected")||($(b).children().eq(1).children().eq(0).children().eq(d).addClass("eui-combobox-item-selected"),angular.isNumber(g)&&$(b).children().eq(1).children().eq(0).children().eq(g).removeClass("eui-combobox-item-selected"),a.combo.text=c.name,a.selectedRows=c,g=d),$(b).children().eq(1).css("display","none")},a.onClick=function(){"none"===$(b).children().eq(1).css("display")?$(b).children().eq(1).slideDown():$(b).children().eq(1).slideUp()},a.clickCombo=function(a){a.stopPropagation(),"none"===$(b).children().eq(1).css("display")?$(b).children().eq(1).css("display","block"):$(b).children().eq(1).css("display","none")},a.$watch("selectData",d,!0)}}}]),angular.module("eui.tree",[]).controller("EuiTreeController",["$scope","$attrs","$timeout",function(a,b,c){this.getTreeOptions=function(){return a.treeOptions}}]).directive("euiTree",["$timeout","$sce",function(a,b){return{controller:"EuiTreeController",restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/tree/tree.html"},replace:!0,scope:{onClick:"=",onDbclick:"=",treeOptions:"=",treeData:"=",treeControl:"="},link:function(c,d,e){function f(a,b,c){var d,e;d=a.selected,e=d?z.checkbox2:z.checkbox1,c?h(a,e,b):(a.checkboxIcon=e,b&&(a.labelSelected=d)),x.onSelect(a)}function g(a,b,c){var d,e;if(a.selected!==!0&&(a.selected=!1),d=a.selected,e=d?z.checkbox2:z.checkbox1,c){if(d)h(a,e,b);else if(a.checkboxIcon=z.checkbox1,a.children&&a.children.length>0)for(var f=0;f<a.children.length;f++)g(a.children[f],b,c)}else if(a.checkboxIcon=e,b&&(a.labelSelected=d),a.children&&a.children.length>0)for(var f=0;f<a.children.length;f++)g(a.children[f],b,c);x.onSelect(a)}function h(a,b,c){var d=a.selected;for_branch_children(function(a){return a.selected=d,a.checkboxIcon=b,c&&(a.labelSelected=d),!0},a),l(a,function(a){var b,e,f=0;if(children=a.children,d)for(b=!0,a.checkboxIcon=z.checkbox2;f<children.length;){if(e=children[f],!e.selected){b=!1,a.checkboxIcon=z.checkbox3;break}f++}else for(b=!1,a.checkboxIcon=z.checkbox1;f<children.length;){if(e=children[f],e.selected){a.checkboxIcon=z.checkbox3;break}f++}a.selected=b,c&&(a.labelSelected=b)})}var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=!0,z={checkbox1:"eui-tree-checkbox1",checkbox2:"eui-tree-checkbox2",checkbox3:"eui-tree-checkbox3"};i=function(a){console.log("ERROR:"+a)};var A={selectOnCheck:!1,checkOnSelect:!1,checkbox:!1,cascadeCheck:!0,expandLevel:"1",menuTarget:null,iconExpand:"eui-expand",iconCollapse:"eui-collapse",iconLeaf:"eui-leaf",iconFolderClose:"eui-folder-close",iconFolderOpen:"eui-folder-open",onAfterTreeDataChange:function(){},onSelect:function(a){}};if(x=$.extend({},A,c.treeOptions),c.showCheckBox=x.checkbox,c.menuTarget=x.menuTarget,k=parseInt(x.expandLevel,10),c.treeData||(c.treeData=[]),null==c.treeData.length){if(null==treeData.label)return void alert("treeData should be an array of root branches");c.treeData=[treeData]}return m=function(a){var b,d,e,f,g,h;for(b=function(c,d){var e,f,g,h,i;if(a(c,d),null!=c.children){for(h=c.children,i=[],f=0,g=h.length;g>f;f++)e=h[f],i.push(b(e,d+1));return i}},g=c.treeData,h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(b(d,1));return h},for_branch_children=function(a,b){var c;(c=function(b){var d,e,f,g;if(a(b),null!=b.children)for(g=b.children,e=0,f=g.length;f>e;e++)d=g[e],c(d)})(b)},r=null,q=function(a){return a?void(a!==r&&(null!=r&&(r.labelSelected=!1),a.labelSelected=!0,r=a,j(a),null!=a.onSelect?a.onSelect(a):x.onSelect(a))):(null!=r&&(r.labelSelected=!1),void(r=null))},u=function(b){return null!=c.onClick?a(function(){return c.onClick(b)}):void 0},v=function(b){return null!=c.onDbclick?a(function(){return c.onDbclick(b)}):void 0},c.user_dbclick_branch=function(a){v(a)},c.expanded=function(a,b){a.stopPropagation(),b.branch.expanded=!b.branch.expanded},c.user_clicks_branch=function(a,b){a.stopPropagation(),u(b),x.checkbox&&x.checkOnSelect?(b.selected=!b.selected,f(b,x.selectOnCheck,x.cascadeCheck)):b!==r&&q(b)},c.user_mouseover_branch=function(a,b){s=b},c.user_right_click=function(a,b){t=b,x.checkbox&&x.checkOnSelect?(b.selected=!b.selected,f(b,x.selectOnCheck,x.cascadeCheck)):b!==r&&q(b)},c.user_select=function(a,b){a.stopPropagation();var c;b.selected=!b.selected,c=b.selected,f(b,x.selectOnCheck,x.cascadeCheck)},n=function(a){var b;return b=void 0,a.parent_uid&&m(function(c){return c.uid===a.parent_uid?b=c:void 0}),b},l=function(a,b){var c;return c=n(a),null!=c?(b(c),l(c,b)):void 0},j=function(a){return l(a,function(a){return a.expanded=!0})},c.tree_rows=[],p=function(){var a,d,e,f,h,i;h=c.treeData;var j;if(y&&c.treeData.length>0){if(y=!1,j=!1,x.checkbox)for(e=0,f=h.length;f>e;e++)d=h[e],g(d,x.selectOnCheck,x.cascadeCheck);else m(function(a){return j?void(a.labelSelected=!1):void(a.labelSelected===!0?(j=!0,q(a)):a.labelSelected=!1)});m(function(a,b){return a.level=b,a.expanded=a.level<k})}for(m(function(a,b){return a.uid?void 0:a.uid=""+Math.random()}),m(function(a){var b,c,d,e,f;if(angular.isArray(a.children)){for(e=a.children,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(b.parent_uid=a.uid);return f}}),c.tree_rows=[],m(function(a){var b,c;return a.children?a.children.length>0?(c=function(a){return"string"==typeof a?{label:a,children:[]}:a},a.children=function(){var d,e,f,g;for(f=a.children,g=[],d=0,e=f.length;e>d;d++)b=f[d],g.push(c(b));return g}()):void 0:a.children=[]}),a=function(d,e,f){var g,h,i,j,k,l,m,n;if(null==e.expanded&&(e.expanded=!1),e.children&&0!==e.children.length?e.expanded?(i=x.iconCollapse,j=x.iconFolderOpen):(i=x.iconExpand,j=x.iconFolderClose):(i="eui-null",j=x.iconLeaf),c.tree_rows.push({level:d,branch:e,label:e.label,fmtlabel:b.trustAsHtml(e.label),treeIcon:i,branchIcon:j,checkboxIcon:e.checkboxIcon||z.checkbox1,visible:f,selected:e.selected,labelSelected:e.labelSelected}),null!=e.children){for(m=e.children,n=[],k=0,l=m.length;l>k;k++)g=m[k],h=f&&e.expanded,n.push(a(d+1,g,h));return n}},i=[],e=0,f=h.length;f>e;e++)d=h[e],i.push(a(1,d,!0));return x.onAfterTreeDataChange(),i},c.$watch("treeData",p,!0),o=c.treeData.length,m(function(a,b){return a.level=b,a.expanded=a.level<k}),null!=c.treeControl&&angular.isObject(c.treeControl)?(w=c.treeControl,w.expand_all=function(){return m(function(a,b){return a.expanded=!0})},w.collapse_all=function(){return m(function(a,b){return a.expanded=!1})},w.get_first_branch=function(){return o=c.treeData.length,o>0?c.treeData[0]:void 0},w.select_first_branch=function(){var a;return a=w.get_first_branch(),w.select_branch(a)},w.get_selected_branch=function(){return r},w.get_mouseover_branch=function(){return s},w.get_onright_branch=function(){return t},w.get_parent_branch=function(a){return n(a)},w.select_branch=function(a){return q(a),a},w.get_children=function(a){return a.children},w.select_parent_branch=function(a){var b;return null==a&&(a=w.get_selected_branch()),null!=a&&(b=w.get_parent_branch(a),null!=b)?(w.select_branch(b),b):void 0},w.addNode=function(a,b,d){var e,f,g=["before","after","add"];if(!d)throw Error("请传入老节点");if(!a)throw Error("请传入所需添加节点");if(!b||-1===g.indexOf(b))throw Error("请传入正确的操作类型");"add"===b?(a.level=d.level+1,d.children.push(a),d.expanded=!0):(a.level=d.level,1===d.level?(f=c.treeData.indexOf(d),"before"===b?c.treeData.splice(f,0,a):"after"===b&&c.treeData.splice(f+1,0,a)):(e=n(d),f=e.children.indexOf(d),"before"===b?e.children.splice(f,0,a):"after"===b&&e.children.splice(f+1,0,a)))},w.removeNode=function(a){if(!a)throw Error("请传入所需删除节点");1===a.level?(index=c.treeData.indexOf(a),c.treeData.splice(index,1)):(parent=n(a),index=parent.children.indexOf(a),parent.children.splice(index,1))},w.add_branch=function(a,b){return null!=a?(a.children.push(b),a.expanded=!0):c.treeData.push(b),b},w.add_root_branch=function(a){return w.add_branch(null,a),a},w.expand_branch=function(a){return null==a&&(a=w.get_selected_branch()),null!=a?(a.expanded=!0,a):void 0},w.collapse_branch=function(a){return null==a&&(a=r),null!=a?(a.expanded=!1,a):void 0},w.get_siblings=function(a){var b,d;return null==a&&(a=r),null!=a?(b=w.get_parent_branch(a),d=b?b.children:c.treeData):void 0},w.get_next_sibling=function(a){var b,c;return null==a&&(a=r),null!=a&&(c=w.get_siblings(a),o=c.length,b=c.indexOf(a),o>b)?c[b+1]:void 0},w.get_prev_sibling=function(a){var b,c;return null==a&&(a=r),c=w.get_siblings(a),o=c.length,b=c.indexOf(a),b>0?c[b-1]:void 0},w.select_next_sibling=function(a){var b;return null==a&&(a=r),null!=a&&(b=w.get_next_sibling(a),null!=b)?w.select_branch(b):void 0},w.select_prev_sibling=function(a){var b;return null==a&&(a=r),null!=a&&(b=w.get_prev_sibling(a),null!=b)?w.select_branch(b):void 0},w.get_first_child=function(a){var b;return null==a&&(a=r),null!=a&&(null!=(b=a.children)?b.length:void 0)>0?a.children[0]:void 0},w.get_closest_ancestor_next_sibling=function(a){var b,c;return b=w.get_next_sibling(a),null!=b?b:(c=w.get_parent_branch(a),w.get_closest_ancestor_next_sibling(c))},w.get_next_branch=function(a){var b;return null==a&&(a=r),null!=a?(b=w.get_first_child(a),null!=b?b:b=w.get_closest_ancestor_next_sibling(a)):void 0},w.select_next_branch=function(a){var b;return null==a&&(a=r),null!=a&&(b=w.get_next_branch(a),null!=b)?(w.select_branch(b),b):void 0},w.last_descendant=function(a){var b;return o=a.children.length,0===o?a:(b=a.children[o-1],w.last_descendant(b))},w.get_prev_branch=function(a){var b,c;return null==a&&(a=r),null!=a?(c=w.get_prev_sibling(a),null!=c?w.last_descendant(c):b=w.get_parent_branch(a)):void 0},w.get_all_selected_branch=function(a){function b(a,d){var e;if(d)for(e=0;e<a.length;e++)1==a[e].selected?c.push(a[e]):a[e].children&&a[e].children.length>0&&b(a[e].children,d);else for(e=0;e<a.length;e++)1==a[e].selected&&c.push(a[e]),a[e].children&&a[e].children.length>0&&b(a[e].children,d)}var c=[];return angular.isArray(a)||(a=[a]),b(a,x.cascadeCheck),c},w.select_prev_branch=function(a){var b;return null==a&&(a=r),null!=a&&(b=w.get_prev_branch(a),null!=b)?(w.select_branch(b),b):void 0}):void 0}}}]).directive("ngRightClick",["$parse",function(a){return{require:"^euiTree",link:function(b,c,d,e){var f=e.getTreeOptions();if(null!=f&&b.treeOptions.hasOwnProperty("menuTarget")){var g=a(d.ngRightClick);c.bind("contextmenu",function(a){b.$apply(function(){a.preventDefault(),g(b,{$event:a})})})}}}}]),angular.module("eui.comboTree",["eui.combo","eui.tree"]).directive("euiComboTree",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/comboTree/comboTree.html"},replace:!0,scope:{treeData:"=?",treeControl:"=?",options:"=?",onSelect:"=",disabled:"="},link:function(a,b,c){var d,e;d=c.width?c.width:"170px",e=c.height?c.height:"25px",a.comboWidth=d,a.comboHeight=e,a.treeHeight=c.treeHeight?c.treeHeight:"200px",a.treeData||(a.treeData=[]);var f={onAfterTreeDataChange:function(){var b,c="";if(a.options&&a.options.checkbox===!0&&a.treeControl&&a.treeControl.get_all_selected_branch){b=a.treeControl.get_all_selected_branch(a.treeData);for(var d=0;d<b.length;d++)c+=b[d].label+";";a.textValue=c}},onSelect:function(c){a.options.checkbox!==!0&&(a.textValue=c.label,$(b).children().eq(1).css("display","none")),angular.isFunction(a.onSelect)&&a.onSelect(c)}};a.options=$.extend({},f,a.options),$(document).bind("click",function(c){(a.options.checkbox!==!0||"checkbox"!=c.toElement.type)&&$(b).children().eq(1).css("display","none")}),a.clickCombo=function(a){a.stopPropagation(),"none"===$(b).children().eq(1).css("display")?$(b).children().eq(1).css("display","block"):$(b).children().eq(1).css("display","none")},a.panelStyle={position:"absolute","z-index":"110008",display:"none",top:e,width:d,overflow:"auto"},a.treeStyle={height:a.treeHeight,padding:"0"},a.onClick=function(){"none"===$(b).children().eq(1).css("display")?$(b).children().eq(1).css("display","block"):$(b).children().eq(1).css("display","none")}}}}]),angular.module("eui.customnav",[]).controller("CustomnavController",["$scope","$attrs","$timeout","$element",function(a,b,c,d){a.isOpen=!1,a.showItems=[];var e=[],f=[],g=0,h=angular.isDefined(a.itemWidth)?a.$eval(a.itemWidth):100;c(function(){var a=d.parent()[0];
g=a.offsetWidth-30,0>g&&(g=800),j()});var i=function(b){a.showItems=[];for(var c=0,d=0;d<b.length&&!(c+h>g);d++)c+=h,a.showItems.push(b[d]);a.totalWidth=c},j=function(){for(var b=0;b<a.navData.length;b++)a.navData[b].selected?e.push(a.navData[b]):f.push(a.navData[b]);i(e)};a.moveToggle=function(){if(a.isOpen=!a.isOpen,a.isOpen)if(a.showItems=e.concat(f),h>0){for(var b=0;g>b+h;)b+=h;a.totalWidth=b}else a.totalWidth=.9*g;else i(e)},a.selectItem=function(b){b.selected?(e.splice(e.indexOf(b),1),f.push(b)):(f.splice(f.indexOf(b),1),e.push(b)),a.onSelected({items:e}),b.selected=!b.selected}}]).directive("euiCustomnav",["$timeout",function(a){return{controller:"CustomnavController",controllerAs:"customnav",templateUrl:function(a,b){return b.templateUrl||"template/customnav/customnav.html"},replace:!0,scope:{itemWidth:"@",navData:"=",onSelected:"&"},link:function(a,b,c,d){a.$watch("isOpen",function(a){if(a){var c=b.find(".customnav-item div");c.css("cursor","pointer")}else{var d=b.find(".customnav-item .select");d.css("cursor","default")}})}}}]),angular.module("eui.dateparser",[]).service("euiDateParser",["$log","$locale","orderByFilter",function(a,b,c){function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}var f,g,h=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){f=b.id,this.parsers={},g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},hh:{regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},h:{regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},a:{regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)}}}},this.init(),this.parse=function(c,g,i){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(h,"\\$&"),b.id!==f&&this.init(),this.parsers[g]||(this.parsers[g]=d(g));var j=this.parsers[g],k=j.regex,l=j.map,m=c.match(k);if(m&&m.length){var n,o;angular.isDate(i)&&!isNaN(i.getTime())?n={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&a.warn("dateparser:","baseDate is not a valid date"),n={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,q=m.length;q>p;p++){var r=l[p-1];r.apply&&r.apply.call(n,m[p])}return e(n.year,n.month,n.date)&&(o=new Date(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds||0)),o}}}]),angular.module("eui.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","euiDateParser",function(a,b,c){b||a.warn("dateParser is now deprecated. Use euiDateParser instead."),angular.extend(this,c)}]),angular.module("eui.position",[]).factory("$euiPosition",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("eui.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$euiPosition",function(a,b,c){b||a.warn("$position is now deprecated. Use $euiPosition instead."),angular.extend(this,c)}]),angular.module("eui.datepicker",["eui.dateparser","eui.position"]).value("$datepickerSuppressError",!1).constant("euiDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("EuiDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","euiDatepickerConfig","$datepickerSuppressError",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){i[d]=angular.isDefined(c)?c:b[d],a[d]=i[d],("minMode"==d&&i.modes.indexOf(a.datepickerMode)<i.modes.indexOf(i[d])||"maxMode"==d&&i.modes.indexOf(a.datepickerMode)>i.modes.indexOf(i[d]))&&(a.datepickerMode=i[d])}):(i[d]=g[d]||null,a[d]=i[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){i.element[0].focus()};a.$on("eui:datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):a.toggleMode("up"===c?1:-1)}}]).controller("EuiDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),this.fixTimeZone(c),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(b,d,1),g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("EuiMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(e,f,1),this.fixTimeZone(b),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,3)},this.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("EuiYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/e,10)*e+1}var e;this.element=b,this.yearpickerInit=function(){e=this.yearRange,this.step={years:e}},this._refreshView=function(){for(var b,c=new Array(e),f=0,g=d(this.activeDate.getFullYear());e>f;f++)b=new Date(g+f,0,1),this.fixTimeZone(b),c[f]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+f});a.title=[c[0].label,c[e-1].label].join(" - "),a.rows=this.split(c,5)},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*this.step.years:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+e-1),this.activeDate.setFullYear(c)}}]).directive("euiDatepicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["euiDatepicker","^ngModel"],controller:"EuiDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("euiDaypicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/day.html"},require:["^?euiDatepicker","euiDaypicker","^?datepicker"],controller:"EuiDaypickerController",link:function(a,b,c,d){var e=d[0]||d[2],f=d[1];f.init(e)}}}).directive("euiMonthpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/month.html"},require:["^?euiDatepicker","euiMonthpicker","^?datepicker"],controller:"EuiMonthpickerController",link:function(a,b,c,d){var e=d[0]||d[2],f=d[1];f.init(e)}}}).directive("euiYearpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/year.html"},require:["^?euiDatepicker","euiYearpicker","^?datepicker"],controller:"EuiYearpickerController",link:function(a,b,c,d){var e=d[0]||d[2];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}).constant("euiDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("EuiDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$euiPosition","dateFilter","euiDateParser","euiDatepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function n(b){angular.isNumber(b)&&(b=new Date(b));{if(!b)return null;if(angular.isDate(b)&&!isNaN(b))return b;if(angular.isString(b)){var c=j.parse(b,r,a.date);return isNaN(c)?void 0:c}}}function o(a,b){var d=a||b;if(!c.ngRequired&&!d)return!0;if(angular.isNumber(d)&&(d=new Date(d)),d){if(angular.isDate(d)&&!isNaN(d))return!0;if(angular.isString(d)){var e=j.parse(d,r);return!isNaN(e)}return!1}return!0}function p(c){var d=A[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}function q(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}var r,s,t,u,v,w,x,y,z,A,B={},C=!1;a.watchData={},this.init=function(h){if(z=h,s=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):k.closeOnDateSelection,t=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):k.appendToBody,u=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):k.onOpenFocus,v=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:k.datepickerPopupTemplateUrl,w=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:k.datepickerTemplateUrl,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):k.showButtonBar,k.html5Types[c.type]?(r=k.html5Types[c.type],C=!0):(r=c.datepickerPopup||c.euiDatepickerPopup||k.datepickerPopup,c.$observe("euiDatepickerPopup",function(a,b){var c=a||k.datepickerPopup;if(c!==r&&(r=c,z.$modelValue=null,!r))throw new Error("euiDatepickerPopup must have a date format specified.")})),!r)throw new Error("euiDatepickerPopup must have a date format specified.");if(C&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(x=angular.element("<div eui-datepicker-popup-wrap><div eui-datepicker></div></div>"),x.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":v}),y=angular.element(x.children()[0]),y.attr("template-url",w),C&&"month"===c.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),c.datepickerOptions){var l=a.$parent.$eval(c.datepickerOptions);l&&l.initDate&&(a.initDate=l.initDate,y.attr("init-date","initDate"),delete l.initDate),angular.forEach(l,function(a,b){y.attr(m(b),a)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(b){if(c[b]){var d=e(c[b]);if(a.$parent.$watch(d,function(c){a.watchData[b]=c,("minDate"===b||"maxDate"===b)&&(B[b]=new Date(c))}),y.attr(m(b),"watchData."+b),"datepickerMode"===b){var f=d.assign;a.$watch("watchData."+b,function(b,c){angular.isFunction(f)&&b!==c&&f(a.$parent,b)})}}}),c.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.showWeeks&&y.attr("show-weeks",c.showWeeks),c.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),C?z.$formatters.push(function(b){return a.date=b,b}):(z.$$parserName="date",z.$validators.date=o,z.$parsers.unshift(n),z.$formatters.push(function(b){return a.date=b,z.$isEmpty(b)?b:i(b,r)})),z.$viewChangeListeners.push(function(){a.date=j.parse(z.$viewValue,r,a.date)}),b.bind("keydown",q),A=d(x)(a),x.remove(),t?f.find("body").append(A):b.after(A),a.$on("$destroy",function(){a.isOpen===!0&&(g.$$phase||a.$apply(function(){a.isOpen=!1})),A.remove(),b.unbind("keydown",q),f.unbind("click",p)})},a.getText=function(b){return a[b+"Text"]||k[b+"Text"]},a.isDisabled=function(b){return"today"===b&&(b=new Date),a.watchData.minDate&&a.compare(b,B.minDate)<0||a.watchData.maxDate&&a.compare(b,B.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){angular.isDefined(c)&&(a.date=c);var d=a.date?i(a.date,r):null;b.val(d),z.$setViewValue(d),s&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(a.isOpen=!1,b[0].focus())},a.select=function(b){if("today"===b){var c=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(c.getFullYear(),c.getMonth(),c.getDate())):b=new Date(c.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(){a.isOpen=!1,b[0].focus()},a.$watch("isOpen",function(c){c?(a.position=t?h.offset(b):h.position(b),a.position.top=a.position.top+b.prop("offsetHeight"),l(function(){u&&a.$broadcast("eui:datepicker.focus"),f.bind("click",p)},0,!1)):f.unbind("click",p)})}]).directive("euiDatepickerPopup",function(){return{require:["ngModel","euiDatepickerPopup"],controller:"EuiDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("euiDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"}}}),angular.module("eui.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","euiDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(a,b,c,d,e,f,g,h,i){i||e.warn("DatepickerController is now deprecated. Use EuiDatepickerController instead.");var j=this,k={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){j[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){j[d]=a?new Date(a):null,j.refreshView()}):j[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){j[d]=angular.isDefined(c)?c:b[d],a[d]=j[d],("minMode"==d&&j.modes.indexOf(a.datepickerMode)<j.modes.indexOf(j[d])||"maxMode"==d&&j.modes.indexOf(a.datepickerMode)>j.modes.indexOf(j[d]))&&(a.datepickerMode=j[d])}):(j[d]=g[d]||null,a[d]=j[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(k.$isEmpty(k.$modelValue)||k.$invalid)&&(j.activeDate=a,j.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===j.compare(b.date,j.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){k=a,k.$render=function(){j.render()}},this.render=function(){if(k.$viewValue){var a=new Date(k.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=k.$viewValue?new Date(k.$viewValue):null;k.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=k.$viewValue?new Date(k.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===j.minMode){var c=k.$viewValue?new Date(k.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),k.$setViewValue(c),k.$render()}else j.activeDate=b,a.datepickerMode=j.modes[j.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=j.activeDate.getFullYear()+a*(j.step.years||0),c=j.activeDate.getMonth()+a*(j.step.months||0);j.activeDate.setFullYear(b,c,1),j.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===j.maxMode&&1===b||a.datepickerMode===j.minMode&&-1===b||(a.datepickerMode=j.modes[j.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var l=function(){j.element[0].focus()};a.$on("eui:datepicker.focus",l),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),j.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(j.isDisabled(j.activeDate))return;a.select(j.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(j.handleKeyDown(c,b),j.refreshView()):a.toggleMode("up"===c?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(c,d,e,f){b||a.warn("datepicker is now deprecated. Use eui-datepicker instead.");var g=f[0],h=f[1];g.init(h)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"EuiDaypickerController",link:function(c,d,e,f){b||a.warn("daypicker is now deprecated. Use eui-daypicker instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"EuiMonthpickerController",link:function(c,d,e,f){b||a.warn("monthpicker is now deprecated. Use eui-monthpicker instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"EuiYearpickerController",link:function(c,d,e,f){b||a.warn("yearpicker is now deprecated. Use eui-yearpicker instead.");var g=f[0];angular.extend(g,f[1]),g.yearpickerInit(),g.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(a,b){return{require:["ngModel","datepickerPopup"],controller:"EuiDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,d,e,f){b||a.warn("datepicker-popup is now deprecated. Use eui-datepicker-popup instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"},link:function(){b||a.warn("datepicker-popup-wrap is now deprecated. Use eui-datepicker-popup-wrap instead.")}}}]),angular.module("eui.dropdown",["eui.position"]).constant("euiDropdownConfig",{openClass:"open"}).service("euiDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("EuiDropdownController",["$scope","$element","$attrs","$parse","euiDropdownConfig","euiDropdownService","$animate","$euiPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.openClass,q=angular.noop,r=c.onToggle?d(c.onToggle):angular.noop,s=!1,t=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(m=d(c.isOpen),q=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),s=angular.isDefined(c.dropdownAppendToBody),t=angular.isDefined(c.euiKeyboardNav),s&&n.dropdownMenu&&(i.find("body").append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return t},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:angular.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(s&&n.dropdownMenu){var e=h.positionElements(b,n.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},m=n.dropdownMenu.hasClass("dropdown-menu-right");m?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),n.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,p).then(function(){angular.isDefined(c)&&c!==d&&r(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var t=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(t),n.dropdownMenu=t}f.close(o),n.selectedOption=null}angular.isFunction(q)&&q(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==o.getAutoClose()&&(o.isOpen=!1)});var u=a.$on("$destroy",function(){o.$destroy()});o.$on("$destroy",u)}]).directive("euiDropdown",function(){return{restrict:"AEC",controller:"EuiDropdownController",link:function(a,b,c,d){d.init()}}}).directive("euiDropdownMenu",function(){return{restrict:"AEC",require:"?^euiDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("euiKeyboardNav",function(){return{restrict:"AE",require:"?^euiDropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=d.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===b.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:angular.isNumber(d.selectedOption)?d.selectedOption=0===d.selectedOption?0:d.selectedOption-1:d.selectedOption=b.length-1}b[d.selectedOption].focus()}})}}}).directive("euiDropdownToggle",function(){return{restrict:"AEC",require:"?^euiDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a);
}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("eui.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("eui.modal",["eui.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).directive("euiModalBackdrop",["$animate","$injector","$euiModalStack",function(a,b,c){function d(b,d,f){d.addClass("modal-backdrop"),f.modalInClass&&(e?e(d,{addClass:f.modalInClass}).start():a.addClass(d,f.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var g=c();e?e(d,{removeClass:f.modalInClass}).start().then(g):a.removeClass(d,f.modalInClass).then(g)}))}var e=null;return b.has("$animateCss")&&(e=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("euiModalWindow",["$euiModalStack","$q","$animate","$injector","$document",function(a,b,c,d,e){var f=null;return d.has("$animateCss")&&(f=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,g,h){function i(a){p=a.screenY-n,o=a.screenX-m;var b=g[0].clientHeight-g[0].children[0].clientHeight-20;0>p?p=0:p>b&&(p=b);var c=g[0].clientWidth-g[0].children[0].clientWidth-10;0>o?o=0:o>c&&(o=c),g[0].children[0].style.top=p+"px",g[0].children[0].style.left=o+"px"}function j(){e.off("mousemove",i),e.off("mouseup",j)}function k(){if(0>=p){for(var a=h.size?h.size.split(";"):[],b=0;b<a.length;b++){var c=a[b].split(":");g[0].children[0].style[c[0]]=c[1]}p=(g[0].clientHeight-g[0].children[0].offsetHeight-60)/2,o=(g[0].clientWidth-g[0].children[0].offsetWidth)/2;var a=h.position?h.size.split(";"):[];if(h.position){var d=h.position.split("-"),e=d[0],f=d[1]||"center";"left"==e?o=0:"right"==e&&(o=g[0].clientWidth-g[0].children[0].offsetWidth-20),"top"==f?p=1:"bottom"==f&&(p=g[0].clientHeight-g[0].children[0].offsetHeight-20)}g[0].children[0].style.top=p+"px",g[0].children[0].style.left=o+"px"}}g.addClass(h.windowClass||""),g.addClass(h.windowTopClass||""),d.size=h.size,d.position=h.position;var l=angular.isDefined(h.showClose)?d.$eval(h.showClose):!0;d.showClose=l,d.title=h.title,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))};var m=0,n=0,o=0,p=0;d.mousedown=function(a){m=a.screenX-o,0>m&&(m=0),n=a.screenY-p,0>n&&(n=0),e.bind("mousemove",i),e.bind("mouseup",j)},d.$isRendered=!0;var q=b.defer();h.$observe("modalRender",function(a){"true"==a&&q.resolve()}),q.promise.then(function(){var e=null;h.modalInClass&&(e=f?f(g,{addClass:h.modalInClass}).start():c.addClass(g,h.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();f?f(g,{removeClass:h.modalInClass}).start().then(d):c.removeClass(g,h.modalInClass).then(d)})),b.when(e).then(function(){var a=g[0].querySelector("[autofocus]");a?a.focus():g[0].focus()});var i=a.getTop();i&&(a.modalRendered(i.key),k())})}}}]).directive("euiModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.euiModalAnimationClass)}}}).directive("euiModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$euiModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h,i){function j(){for(var a=-1,b=u.keys(),c=0;c<b.length;c++)u.get(b[c]).value.backdrop&&(a=c);return a}function k(a,b){var d=c.find("body").eq(0),e=u.get(a).value;u.remove(a),n(e.modalDomEl,e.modalScope,function(){var b=e.openedClass||t;v.remove(b,a),d.toggleClass(b,v.hasKey(b)),l(!0)}),m(),b&&b.focus?b.focus():d.focus()}function l(a){var b;u.length()>0&&(b=u.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function m(){if(q&&-1==j()){var a=r;n(q,r,function(){a=null}),q=void 0,r=void 0}}function n(b,c,d){function e(){e.done||(e.done=!0,p?p(b,{event:"leave"}).start().then(function(){b.remove()}):a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(w.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function o(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var p=null;g.has("$animateCss")&&(p=g.get("$animateCss"));var q,r,s,t="modal-open",u=i.createNew(),v=h.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,y="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(j,function(a){r&&(r.index=a)}),c.bind("keydown",function(a){if(a.isDefaultPrevented())return a;var b=u.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){w.dismiss(b.key,"escape key press")});break;case 9:w.loadFocusElementList(b);var c=!1;a.shiftKey?w.isFocusInFirstItem(a)&&(c=w.focusLastFocusableElement()):w.isFocusInLastItem(a)&&(c=w.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),w.open=function(a,b){var f=c[0].activeElement,g=b.openedClass||t;l(!1),u.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard,openedClass:b.openedClass,windowTopClass:b.windowTopClass}),v.put(g,a);var h=c.find("body").eq(0),i=j();if(i>=0&&!q&&b.showModal){r=e.$new(!0),r.index=i;var k=angular.element('<div eui-modal-backdrop="modal-backdrop"></div>');k.attr("backdrop-class",b.backdropClass),b.animation&&k.attr("modal-animation","true"),q=d(k)(r),h.append(q)}if(b.showModal)var m=angular.element('<div eui-modal-window="modal-window"></div>');else var m=angular.element('<div panel-window=""></div>');m.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,"window-top-class":b.windowTopClass,size:b.size,position:b.position,"show-close":b.scope.showClose,title:b.title,index:u.length()-1,animate:"animate"}).html(b.content),b.animation&&m.attr("modal-animation","true");var n=d(m)(b.scope);u.top().value.modalDomEl=n,u.top().value.modalOpener=f,h.append(n),h.addClass(g),w.clearFocusListCache()},w.close=function(a,b){var c=u.get(a);return c&&o(c,b,!0)?(c.value.modalScope.$$euiDestructionScheduled=!0,c.value.deferred.resolve(b),k(a,c.value.modalOpener),!0):!c},w.dismiss=function(a,b){var c=u.get(a);return c&&o(c,b,!1)?(c.value.modalScope.$$euiDestructionScheduled=!0,c.value.deferred.reject(b),k(a,c.value.modalOpener),!0):!c},w.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},w.getTop=function(){return u.top()},w.modalRendered=function(a){var b=u.get(a);b&&b.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return s.length>0?(s[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return s.length>0?(s[s.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(a){return s.length>0?(a.target||a.srcElement)==s[0]:!1},w.isFocusInLastItem=function(a){return s.length>0?(a.target||a.srcElement)==s[s.length-1]:!1},w.clearFocusListCache=function(){s=[],x=0},w.loadFocusElementList=function(a){if((void 0===s||!s.length)&&a){var b=a.value.modalDomEl;b&&b.length&&(s=b[0].querySelectorAll(y))}},w}]).provider("$euiModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$euiModalStack","$log",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function j(a){var c=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?c.push(d.when(b.invoke(a))):angular.isString(a)?c.push(d.when(b.get(a))):c.push(d.when(a))}),c}var k={},l=null;return k.getPromiseChain=function(){return l},k.open=function(b){function e(){return p}var h=d.defer(),k=d.defer(),m=d.defer(),n={result:h.promise,opened:k.promise,rendered:m.promise,close:function(a){return g.close(n,a)},dismiss:function(a){return g.dismiss(n,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var o,p=d.all([i(b)].concat(j(b.resolve)));return o=l=d.all([l]).then(e,e).then(function(a){var d=(b.scope||c).$new();d.$close=n.close,d.$dismiss=n.dismiss,d.showClose=angular.isDefined(b.showClose)?b.showClose:!0,d.$on("$destroy",function(){d.$$euiDestructionScheduled||d.$dismiss("$euiUnscheduledDestruction")});var e,i={},j=1;b.controller&&(i.$scope=d,i.$euiModalInstance=n,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),e=f(b.controller,i),b.controllerAs&&(b.bindToController&&angular.extend(e,d),d[b.controllerAs]=e)),g.open(n,{showModal:angular.isDefined(b.showModal)?b.showModal:!0,scope:d,deferred:h,renderDeferred:m,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowTopClass:b.windowTopClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size,position:b.position,title:b.title,openedClass:b.openedClass}),k.resolve(!0)},function(a){k.reject(a),h.reject(a)})["finally"](function(){l===o&&(l=null)}),n},k}]};return a}),angular.module("eui.window",["eui.modal"]).directive("windowTransclude",["$log",function(a){return{link:function(a,b,c,d,e){e(a,function(a){b.empty(),b.append(a)})}}}]).factory("windowIndex",function(){var a=0;return{getWinMaxIndex:function(){return a+=3}}}).directive("panelWindow",["$euiModalStack","$q","$timeout","$document","windowIndex",function(a,b,c,d,e){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/window/window.html"},link:function(a,f,g){function h(a){p=a.screenY-n,o=a.screenX-m;var b=f[0].parentElement.parentElement.parentElement.parentElement.clientHeight,c=b-f[0].children[0].clientHeight-10;0>p?p=0:p>c&&(p=c);var d=f[0].parentElement.parentElement.parentElement.parentElement.clientWidth,e=d-f[0].children[0].clientWidth-10;0>o?o=0:o>e&&(o=e),p&&f.css({top:p+"px",left:o+"px"})}function i(){d.off("mousemove",h),d.off("mouseup",i)}f.addClass(g.windowClass||""),a.size=g.size,g.title&&(a.title=g.title),a.openOffset=e.getWinMaxIndex();var j,k,l;l=["min","max","close"],k={min:!1,max:!1,close:!1},g.buttons&&(j=g.buttons.split(" ")),j.forEach(function(a){-1!==l.indexOf(a)&&(k[a]=!0)}),a.icon=k,c(function(){a.animate=!0,f[0].querySelectorAll("[autofocus]").length||f[0].focus()}),a.close=function(b){a.$emit("EVENT_PANEL_WINDOW.close",{title:a.title})},a.$on(a.title,function(b,c,d){a.openOffset=e.getWinMaxIndex()});var m=0,n=0,o=0,p=0;a.mousedown=function(b){a.openOffset=e.getWinMaxIndex(),m=b.screenX-o,n=b.screenY-p,d.bind("mousemove",h),d.bind("mouseup",i)},a.$isRendered=!0;var q=b.defer();g.$observe("windowRender",function(a){"true"==a&&q.resolve()}),q.promise.then(function(){if(0>=p){for(var a=g.size?g.size.split(";"):[],b=0;b<a.length;b++){var c=a[b].split(":");f[0].children[0].style[c[0]]=c[1]}p=(d[0].children[0].clientHeight-f[0].children[0].offsetHeight-60)/2,o=(d[0].children[0].clientWidth-f[0].children[0].offsetWidth)/2;var a=g.position?g.size.split(";"):[];if(g.position){var e=g.position.split("-"),h=e[0],i=e[1]||"center";"left"==h?o=0:"right"==h&&(o=d[0].children[0].clientWidth-f[0].children[0].offsetWidth),"top"==i?p=1:"bottom"==i&&(p=d[0].children[0].clientHeight-f[0].children[0].offsetHeight)}f.css({top:p+"px",left:o+"px"})}})}}}]),angular.module("eui.fieldset",["eui.window"]).controller("FieldsetController",["$scope","$attrs",function(a,b){function c(){var a,b=32,c=16,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(c=c||d.length,b)for(a=0;b>a;a++)e[a]=d[0|Math.random()*c];else{var f;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",a=0;36>a;a++)e[a]||(f=0|16*Math.random(),e[a]=d[19==a?3&f|8:f])}return e.join("")}a.isShow="opened"in b,a.disabled=b.disabled?b.disabled:!1;var d=c();a.uuid=d,a.toggleOpen=function(){a.isShow=!a.isShow}}]).directive("euiFieldset",function(){return{restrict:"E",controller:"FieldsetController",templateUrl:"template/fieldset/fieldset.html",transclude:!0,replace:!0,scope:{label:"@"},compile:function(a,b,c){return function(a,b,d){b.find("fieldset").children().eq(1).append(c(a.$parent))}}}}),angular.module("eui.fileupload",[]).factory("$Util",function(){var a=1073741824,b=1048576,c=1024,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return{uuid:function(a,b){var c,e=d,f=[];if(b=b||e.length,a)for(c=0;a>c;c++)f[c]=e[0|Math.random()*b];else{var g;for(f[8]=f[13]=f[18]=f[23]="-",f[14]="4",c=0;32>c;c++)f[c]||(g=0|16*Math.random(),f[c]=e[19==c?3&g|8:g])}return f.join("")},toDecimal:function(a,b){var c=parseFloat(a),d=1,e=parseInt(b);if(isNaN(c))return a;(isNaN(e)||1>e)&&(e=2);for(var f=0;e>f;f++)d=10*d;return c=Math.round(c*d)/d},formatCapacity:function(d){return d>a?this.toDecimal(d/a)+"GB":d>b?this.toDecimal(d/b)+"MB":d>c?this.toDecimal(d/c)+"KB":d+"Bytes"}}}).controller("FileUploadController",["$scope","$attrs","$document","$element","$timeout","$Util",function(a,b,c,d,e,f){function g(b){for(var c=0;c<b.target.files.length;c++){var d=b.target.files[c];if(d){var e=f.formatCapacity(d.size);"object"==typeof d&&a.files.push({fileObj:d,fileName:d.name,fileSize:d.size,fileSizeC:e,percentComplete:0})}}a.filesCount=a.files.length,!a.groupId&&a.filesCount>1&&(a.groupId=f.uuid()),a.$apply()}function h(b,c){n.sliceList[b]=1;var d=c.fileObj.slice(b*n.sliceSize,(b+1)*n.sliceSize);d.name=c.fileName+"_index"+b;var e=f.formatCapacity(d.size),g={fileObj:d,fileName:d.name,primaryName:c.fileName,fileSize:d.size,fileSizeC:e,percentComplete:0,index:b};a.files.push(g),i(g)}function i(b){var c=new XMLHttpRequest;c.open("POST",a.uploadUrl);var d=new FormData;d.append("fileName",b.fileName),b.sliceRequest?(d.append("sliceRequest",!0),d.append("fileSize",b.fileSize),d.append("sliceSize",l)):(b.primaryName?d.append("primaryName",b.primaryName):d.append("primaryName",b.fileName),void 0!=b.index&&d.append("index",b.index),d.append("groupId",a.groupId),d.append("fileToUpload",b.fileObj),c.upload.addEventListener("progress",function(c){e(function(){if(c.lengthComputable)if(b.percentComplete=Math.round(100*c.loaded/c.total),b.primaryName)console.log("file slice uploadProgress, percentComplete="+b.percentComplete);else{console.log("primary file uploadProgress, percentComplete="+b.percentComplete);for(var d=0;d<a.files.length;d++)a.files[d].fileName===b.fileName&&(a.files[d].percentComplete=b.percentComplete)}else console.log("unable to compute")})},!1)),c.addEventListener("load",function(c){console.log("load event: "+c.target.responseText);var d=0;try{var f=JSON.parse(c.target.response)}catch(g){return void console.log("load error: "+c.target.response)}for(var i=0;i<a.files.length;i++)void 0==a.files[i].primaryName&&a.files[i].fileName===f.primaryName&&(a.files[i].groupId=f.groupId,a.files[i].fileId=f.fileId);if(f.sliceConfig){n=f.sliceConfig;for(var i=0;i<n.sliceList.length&&!(2!==n.sliceList[i]&&(h(i,b),d+=1,d>=f.poolSize));i++);}else if(void 0!=b.index){n.sliceList[f.index]=2;for(var j=0,i=0;i<n.sliceList.length;i++)if(2===n.sliceList[i])j+=1;else if(0===n.sliceList[i])for(var k=0;k<a.files.length;i++)if(a.files[k].fileName===f.primaryName){h(i,a.files[k]);break}e(function(){for(var b=0;b<a.files.length;b++)a.files[b].fileName===f.primaryName&&(a.files[b].percentComplete=Math.round(100*j/n.sliceList.length),console.log("primary file uploadProgress, percentComplete="+a.files[b].percentComplete))})}},!1),c.addEventListener("error",j,!1),c.addEventListener("abort",k,!1),c.send(d)}function j(a){console.log("There was an error attempting to upload the file.")}function k(a){console.log("The upload has been canceled by the user or the browser dropped the connection.")}var l=52428800;angular.isDefined(b.sliceSize)&&(l=a.$eval(b.sliceSize)),a.files=[];var m=d.find('input[type="file"]'),n=null,o=m;o.bind("change",g),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(m,o,g),a.uploadFile=function(){console.log("$scope.groupId="+a.groupId),a.upload_disabled=!0,a.files.forEach(function(a){!(a.fileSize>l)||window.FileAPI&&window.FileAPI.shouldLoad||(a.sliceRequest=!0),i(a)})}}]).directive("euiFileupload",["$timeout",function(a){return{replace:!0,controller:"FileUploadController",templateUrl:function(a,b){return b.templateUrl||"template/fileupload/fileupload.html"},scope:{uploadUrl:"@",groupId:"@",result:"&"},link:function(b,c,d,e){b.$watch(function(){a(function(){if(!b.hasResult){for(var a=0,c=0;c<b.files.length&&100===b.files[c].percentComplete;c++)void 0==b.files[c].primaryName&&(a+=1);if(a&&b.filesCount===a){for(var d=[],c=0;c<b.files.length;c++)void 0==b.files[c].primaryName&&d.push({ID:b.files[c].fileId,FJMC:b.files[c].fileName,FZID:b.files[c].groupId,FJDZ:"path"});b.hasResult=!0,b.result({resultData:d})}}},1e3)})}}}]).service("fileUploadService",["$document",function(a){this.actionUrl="http://localhost:8080/fileUpload",this.setActionUrl=function(a){this.actionUrl=a},this.queryGroupFile=function(a,b){console.log("groupId"+a),b&&b([{ID:111,FJMC:"fileName1",FJID:"abc",FJDZ:"path"},{ID:222,FJMC:"fileName2",FJID:"def",FJDZ:"path"}])},this.queryFile=function(a,b){console.log("fileId"+a),b&&b({ID:111,FJMC:"fileName1",FJID:"abc",FJDZ:"path"})},this.deleteGroupFile=function(a,b){console.log("groupId"+a),b&&b({success:"true"})},this.deleteFile=function(a,b){console.log("fileId"+a),b&&b({success:"true"})}}]),angular.module("eui.fileupload",[]).factory("$Util",function(){var a=1073741824,b=1048576,c=1024,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return{uuid:function(a,b){var c,e=d,f=[];if(b=b||e.length,a)for(c=0;a>c;c++)f[c]=e[0|Math.random()*b];else{var g;for(f[8]=f[13]=f[18]=f[23]="-",f[14]="4",c=0;32>c;c++)f[c]||(g=0|16*Math.random(),f[c]=e[19==c?3&g|8:g])}return f.join("")},toDecimal:function(a,b){var c=parseFloat(a),d=1,e=parseInt(b);if(isNaN(c))return a;(isNaN(e)||1>e)&&(e=2);for(var f=0;e>f;f++)d=10*d;return c=Math.round(c*d)/d},formatCapacity:function(d){return d>a?this.toDecimal(d/a)+"GB":d>b?this.toDecimal(d/b)+"MB":d>c?this.toDecimal(d/c)+"KB":d+"Bytes"}}}).controller("FileUploadController",["$scope","$attrs","$document","$element","$timeout","$Util","$interval","$http",function(a,b,c,d,e,f,g,h){function i(b){for(var c=0;c<b.target.files.length;c++){var d=b.target.files[c];if(d){var e=f.formatCapacity(d.size);"object"==typeof d&&a.files.push({fileObj:d,fileName:d.name,fileSize:d.size,fileSizeC:e,percentComplete:0})}}a.filesCount=a.files.length,!a.groupId&&a.filesCount>1&&(a.groupId=f.uuid()),a.$apply()}function j(b,c){var d=c.fileObj.slice(b*u.sliceSize,(b+1)*u.sliceSize);d.name=c.fileName+"_index"+b;var e=f.formatCapacity(d.size),g={fileObj:d,fileName:d.name,primaryName:c.fileName,fileSize:d.size,fileSizeC:e,percentComplete:0,index:b,sliceCount:c.sliceCount,MD5:c.MD5,totalSize:c.totalSize};a.files.push(g),k(g)}function k(b){var c=new XMLHttpRequest,d=new FormData;d.append("fileName",b.fileName),d.append("MD5",b.MD5),b.validateRequest?(c.open("POST",a.uploadUrl,!1),d.append("validateRequest",!0),d.append("groupId",a.groupId),d.append("MD5",b.MD5),b.primaryName?d.append("primaryName",b.primaryName):d.append("primaryName",b.fileName)):b.sliceRequest?(c.open("POST",a.uploadUrl,!1),d.append("sliceRequest",!0),d.append("fileSize",b.fileSize),d.append("sliceSize",p)):b.mergeRequest?(c.open("POST",a.uploadUrl,!1),d.append("mergeRequest",!0),d.append("totalSize",b.totalSize),d.append("sliceCount",b.sliceCount),d.append("groupId",a.groupId),d.append("MD5",b.MD5),b.primaryName?d.append("primaryName",b.primaryName):d.append("primaryName",b.fileName)):(c.open("POST",a.uploadUrl,!0),b.primaryName?d.append("primaryName",b.primaryName):d.append("primaryName",b.fileName),void 0!=b.index&&d.append("index",b.index),d.append("groupId",a.groupId),d.append("fileToUpload",b.fileObj),d.append("sliceCount",b.sliceCount),b.totalSize?d.append("totalSize",b.totalSize):d.append("totalSize",b.fileSize),c.upload.addEventListener("progress",function(c){e(function(){if(c.lengthComputable)if(b.percentComplete=Math.round(100*c.loaded/c.total),b.primaryName)console.log("file slice uploadProgress, percentComplete="+b.percentComplete);else{console.log("primary file uploadProgress, percentComplete="+b.percentComplete);for(var d=0;d<a.files.length;d++)a.files[d].fileName===b.fileName&&(a.files[d].percentComplete=b.percentComplete)}else console.log("unable to compute")})},!1)),c.addEventListener("load",function(c){console.log("load event: "+c.target.responseText);var d=0;try{var e=JSON.parse(c.target.response)}catch(f){return void console.log("load error: "+c.target.response)}for(var h=0;h<a.files.length;h++)void 0==a.files[h].primaryName&&a.files[h].fileName===e.primaryName&&(a.files[h].groupId=e.groupId,a.files[h].fileId=e.fileId);if(e.sliceConfig){u=e.sliceConfig;var i=u.sliceList.length;b.sliceCount=i,b.totalSize=u.totalSize;for(var h=0;i>h;h++)j(h,b),d++,h!=i-1&&d>=e.poolSize&&(o=g(function(){for(var b=0,c=0;c<a.files.length;c++)100!=a.files[h].percentComplete&&b++;b<e.poolSize&&(d-=e.poolSize-b,g.cancel(o))},500));o=g(function(){s==i&&(b.mergeRequest=!0,b.sliceRequest=!1,k(b),g.cancel(o))},10)}else 0==e.code&&"slice_receive_success"==e.message?s++:b.validateRequest&&0==e.code&&(b.validateRequest=!1,e.body&&(b.instantaneous=!0,console.log(b)))},!1),c.addEventListener("error",m,!1),c.addEventListener("abort",n,!1),c.send(d)}function l(a,b,c){var d=a*r,e=d+r>=c.fileSize?c.fileSize:d+r;b.readAsBinaryString(q.call(c.fileObj,d,e))}function m(a){console.log("There was an error attempting to upload the file.")}function n(a){console.log("The upload has been canceled by the user or the browser dropped the connection.")}var o,p=52428800,q=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice,r=2097152,s=0;angular.isDefined(b.sliceSize)&&(p=a.$eval(b.sliceSize)),a.files=[];var t=d.find('input[type="file"]'),u=null,v=t;v.bind("change",i),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,v,i),a.uploadFile=function(){console.log("$scope.groupId="+a.groupId),a.upload_disabled=!0,a.files.forEach(function(a){s=0;var b=Math.ceil(a.fileSize/r),c=0,d=new SparkMD5,e=new FileReader;e.onload=function(f){d.appendBinary(f.target.result),c++,b>c?l(c,e,a):(a.MD5=d.end(),a.validateRequest=!0,k(a),a.instantaneous?console.log(a.fileName+" instantaneous sended! "):(!(a.fileSize>p)||window.FileAPI&&window.FileAPI.shouldLoad||(a.sliceRequest=!0),k(a)))},l(c,e,a)})}}]).directive("euiFileupload",["$timeout",function(a){return{replace:!0,controller:"FileUploadController",templateUrl:function(a,b){return b.templateUrl||"template/fileupload/fileupload.html"},scope:{uploadUrl:"@",groupId:"@",result:"&"},link:function(b,c,d,e){b.$watch(function(){a(function(){if(!b.hasResult){for(var a=0,c=0;c<b.files.length&&100===b.files[c].percentComplete;c++)void 0==b.files[c].primaryName&&(a+=1);if(a&&b.filesCount===a){for(var d=[],c=0;c<b.files.length;c++)void 0==b.files[c].primaryName&&d.push({ID:b.files[c].fileId,FJMC:b.files[c].fileName,FZID:b.files[c].groupId,FJDZ:"path"});b.hasResult=!0,b.result({resultData:d})}}},1e3)})}}}]).service("fileUploadService",["$document",function(a){this.actionUrl="http://localhost:8080/fileUpload",this.setActionUrl=function(a){this.actionUrl=a},this.queryGroupFile=function(a,b){console.log("groupId"+a),b&&b([{ID:111,FJMC:"fileName1",FJID:"abc",FJDZ:"path"},{ID:222,FJMC:"fileName2",FJID:"def",FJDZ:"path"}])},this.queryFile=function(a,b){console.log("fileId"+a),b&&b({ID:111,FJMC:"fileName1",FJID:"abc",FJDZ:"path"})},this.deleteGroupFile=function(a,b){console.log("groupId"+a),b&&b({success:"true"})},this.deleteFile=function(a,b){console.log("fileId"+a),b&&b({success:"true"})}}]).service("MD5",[function(){}]),angular.module("eui.grid",["eui"]).directive("euiGrid",["$timeout","$http","$sce","reqChannel",function($timeout,$http,$sce,reqChannel){return{templateUrl:function(a,b){return b.templateUrl||"template/grid/grid.html"},transclude:!0,replace:!0,restrict:"EA",scope:{gridOptions:"=",gridData:"=?",element:"=?",onRegisterApi:"&",gridMethods:"=?"},link:function(scope,element,attrs){function configGrid(){var a,b=scope.gridOptions||{};eui&&eui.appData&&eui.appData.compParaConf&&eui.appData.compParaConf.grid?angular.isObject(eui.appData.compParaConf.grid)&&(a=$.extend({},$.extend({},dg.defaults,eui.appData.compParaConf.grid),b)):a=$.extend({},$.extend({},dg.defaults),b),scope.gridOptions=a,a.formatterFun&&(scope.formatterFun=a.formatterFun);var c=wrapGrid(a.rownumbers);a.view=$.extend({},a.view),a.title&&(_height-=28),a.height=_height,gridDataCenter={options:a,panel:c.panel,dc:c.dc,selectedRows:[],checkedRows:[],data:{total:0,rows:[]},originalRows:[],updatedRows:[],insertedRows:[],deletedRows:[]},_fitGridSize(),_fitColumns(),init(),$timeout(function(){bindEvent()},100),a.url&&_load(),scope.frozenColumnsRows=a.frozenColumns,scope.frozenDataRows=gridData.frozenDataRows,scope.columnsRows=a.columns,scope.dataRows=gridData.dataRows,scope.gridStyle=gridStyle}function init(){function buildGridHeader(a,b){if(!(a.length<1))for(var c,d=0,e=0;e<a.length;e++)for(var f=a[e],g=0;g<f.length;g++){var h=f[g];h.field?(h.width?d+=h.width:h.auto=!0,h.halign=h.halign||h.align||"center"):h.group=!0,opts.showHeaderTitle&&(h.tips=h.title),c=h.formatterTitle?h.formatterTitle(h.title):h.title,c="<div>"+c+"</div>",h.title=$sce.trustAsHtml(c)}}function cellWidth(){for(var a={},b=_getColumnFields(!0).concat(_getColumnFields()),c=0;c<b.length;c++){var d=_getColumnOption(b[c]);a[d.field]=d.width}opts.cellWidth=a}var datagrid=gridDataCenter,opts=datagrid.options,dc=datagrid.dc,panel=datagrid.panel;if(buildGridHeader(opts.frozenColumns,!0),buildGridHeader(opts.columns,!1),cellWidth(),opts.toolbar)if("string"==typeof opts.toolbar)$(opts.toolbar).addClass("datagrid-toolbar").prependTo(panel),$(opts.toolbar).show();else{$("div.datagrid-toolbar",panel).remove();for(var tb=$('<div class="datagrid-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').prependTo(panel),tr=tb.find("tr"),i=0;i<opts.toolbar.length;i++){var btn=opts.toolbar[i];if("-"==btn)$('<td><div class="datagrid-btn-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:void(0)"></a>').appendTo(td);tool[0].onclick=eval(btn.handler||function(){}),tool.linkbutton($.extend({},btn,{plain:!0}))}}}else $("div.datagrid-toolbar",panel).remove();opts.pagination&&(scope.pageOptions={total:0,pageNumber:opts.pageNumber,pageSize:opts.pageSize,pageList:opts.pageList,style:{width:gridStyle.datagridView.width},onSelectPage:function(a,b){opts.pageNumber=a,opts.pageSize=b,opts.url&&_load()}}),parse(scope.gridData),buildGridBody(gridDataCenter.data),_showCheckbox(),_showRownumbers()}function _load(a){function b(a,b){var c=[];angular.isString(a)||console.error(a+"必须为字符串"),angular.isObject(b)||console.error(b+"必须为对象"),c=a.split(".");for(var d in c)b=b[c[d]];return b}var c=gridDataCenter.options;a&&(c.queryParams=a);var d={method:c.method,url:c.url,data:{queryParams:c.queryParams}};c.pagination&&$.extend(d.data,{pageNumber:c.pageNumber+c.diffPage,pageSize:c.pageSize}),c.sort&&$.extend(d.data,{sort:c.sort}),0!=c.onBeforeLoad.call(element,a)&&$http(d).success(function(a){c.pagination?scope.gridData={data:b(c.data.pageData,a),page:{pageNumber:parseInt(b(c.data.pageNumber,a))-c.diffPage,pageSize:b(c.data.pageSize,a),total:b(c.data.total,a)}}:scope.gridData={data:b(c.data.data,a)}}).error(function(a,b){var d=" http请求错误，服务器返回(Status Code:"+b+",response: "+a+")";console.log(d),c.onLoadError.apply(element,arguments)})}function getObjectIndex(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return c;return-1}function unSelectedRowsById(a,b,c){if("string"==typeof b){for(var d=0,e=a.length;e>d;d++)if(a[d][b]==c)return void a.splice(d,1)}else{var f=getObjectIndex(a,b);-1!=f&&a.splice(f,1)}}function idFieldRows(a,b,c){for(var d=0,e=a.length;e>d;d++)if(a[d][b]==c[b])return;a.push(c)}function _resize(a){var b=!1;a&&a.width?parseInt(a.width)!==_width&&(_width=parseInt(a.width),b=!0):element.parent().width()!==_width&&(_width=element.parent().width(),b=!0),a&&a.height?parseInt(a.height)!==_height&&(_height=parseInt(a.height),b=!0):element.parent().height()!==_height&&(_height=element.parent().height(),b=!0),b&&configGrid()}function _fitGridSize(){var a=gridDataCenter.options,b=(a.frozenColumns,gridDataCenter.dc),c=(gridDataCenter.panel,_width-2),d=_height,e=(b.view,b.view1),f=b.view2,g=e.children("div.datagrid-header"),h=f.children("div.datagrid-header");g.find("table"),h.find("table");gridStyle.datagridWrap={width:_width+"px",height:_height+"px"},gridStyle.panel={width:_width+"px"},gridStyle.datagridView.width=c+"px",gridStyle.datagridView1.width=c+"px",gridStyle.datagridView2.width=c+"px",a.showHeader||innerHeader.hide(),gridStyle.datagridView1head.width=gridStyle.datagridView1.width,gridStyle.datagridView1body.width=gridStyle.datagridView1.width,gridStyle.datagridView1foot.width=gridStyle.datagridView1.width,gridStyle.datagridView2head.width=gridStyle.datagridView2.width,gridStyle.datagridView2body.width=gridStyle.datagridView2.width,gridStyle.datagridView2foot.width=gridStyle.datagridView2.width;var i=25;if(gridStyle.datagridView1htable.height=i+"px",gridStyle.datagridView2htable.height=i+"px",gridStyle.datagridView1head.height=i+"px",gridStyle.datagridView2head.height=i+"px","auto"!=a.height){var j=d-(i+1);a.toolbar&&(j-=26),a.pagination&&(j-=31);var d=0;$.extend(gridStyle.datagridView1body,{marginTop:d,height:j-d}),$.extend(gridStyle.datagridView2body,{marginTop:d,height:j-d})}gridStyle.datagridView1.height=parseInt(gridStyle.datagridView1head.height)+parseInt(gridStyle.datagridView1body.height)+"px",gridStyle.datagridView2.height=parseInt(gridStyle.datagridView2head.height)+parseInt(gridStyle.datagridView2body.height)+"px",gridStyle.datagridView.height=gridStyle.datagridView2.height}function _fixRowHeight(a,b){function c(a,b){for(var c=0;c<b.length;c++){var d=$(a[c]),e=$(b[c]);d.css("height",""),e.css("height","");var f=Math.max(d.height(),e.height());d.css("height",f),e.css("height",f)}}var d=(gridDataCenter.data.rows,gridDataCenter.options),e=gridDataCenter.dc;if(!e.body1.is(":empty")&&(!d.nowrap||d.autoRowHeight||b))if(void 0!=a){var f=d.finder.getTr(a,"body",1),g=d.finder.getTr(a,"body",2);c(f,g)}else{var f=d.finder.getTr(0,"allbody",1),g=d.finder.getTr(0,"allbody",2);if(c(f,g),d.showFooter){var f=d.finder.getTr(0,"allfooter",1),g=d.finder.getTr(0,"allfooter",2);c(f,g)}}if(_fitGridSize(),"auto"==d.height){var h=e.body1.parent(),i=e.body2,j=0,k=0;i.children().each(function(){var a=$(this);a.is(":visible")&&(j+=a.outerHeight(),k<a.outerWidth()&&(k=a.outerWidth()))}),k>i.width()&&(j+=18),h.height(j),i.height(j),e.view.height(e.view2.height())}e.body2.triggerHandler("scroll")}function _freezeRow(a){function b(b){var c=b?1:2,f=d.finder.getTr(a,"body",c);(b?e.body1:e.body2).children("table.datagrid-btable-frozen").append(f)}var c=gridDataCenter,d=c.options,e=c.dc;e.body2.children("table.datagrid-btable-frozen").length||e.body1.add(e.body2).prepend('<table class="datagrid-btable datagrid-btable-frozen" cellspacing="0" cellpadding="0"></table>'),
b(!0),b(!1),_fitGridSize()}function getGridData(){var a={total:0,rows:[]},b=_getColumnFields(!0).concat(_getColumnFields(!1));return $().find("tbody tr").each(function(){a.total++;for(var c={},d=0;d<b.length;d++)c[b[d]]=$("td:eq("+d+")",this).html();a.rows.push(c)}),a}function bindEvent(){var a=gridDataCenter,b=(a.panel,a.options,a.dc);b.header1.add(b.header2);b.body2.bind("scroll",function(){b.view1.children("div.datagrid-body").scrollTop($(this).scrollTop()),b.view2.children("div.datagrid-header,div.datagrid-footer").scrollLeft($(this).scrollLeft()),b.body2.children("table.datagrid-btable-frozen").css("left",-$(this).scrollLeft())})}function _fitColumns(){function a(a,b){a.width+=b}function b(a){return a.hidden||a.auto?void 0:!0}var c=gridDataCenter.options,d=gridDataCenter.dc,e=gridStyle.datagridWrap.width;if(c.fitColumns&&!c.frozenColumns.length){for(var f,g=d.view2.children("div.datagrid-header"),h=0,i=_getColumnFields(!1),j=0;j<i.length;j++){var k=_getColumnOption(i[j]);b(k)&&(h+=k.width,f=k)}var l=g.children("div.datagrid-header-inner").show();gridStyle.datagridView2.width=e;var m=parseInt(gridStyle.datagridView2.width)-h-i.length-c.scrollbarSize;c.checkbox&&(m-=28),c.rownumbers&&(m-=28);var n=m/h;c.showHeader||l.hide();for(var j=0;j<i.length;j++){var k=_getColumnOption(i[j]);if(b(k)){var o=Math.floor(k.width*n);a(k,o),m-=o}}m&&f&&a(f,m)}}function _autoSizeColumn(a){function b(a){function b(b){var d=0;return c.finder.getTr(0,b).find('td[field="'+a+'"] div.datagrid-cell').each(function(){var a=$(this).outerWidth();a>d&&(d=a)}),d}var e=d.view.find('div.datagrid-header td[field="'+a+'"] div.datagrid-cell');e.css("width","");var f=dg.methods.getColumnOption(a);f.width=void 0,f.boxWidth=void 0,f.auto=!0,dg.methods.fixColumnSize(a);var g=Math.max(e.outerWidth(),b("allbody"),b("allfooter"));e.outerWidth(g),f.width=g,f.boxWidth=parseInt(e[0].style.width),dg.methods.fixColumnSize(a),c.onResizeColumn.call(a,f.width)}var c=gridDataCenter.options,d=gridDataCenter.dc;if(a)b(a),c.fitColumns&&(_fitGridSize(),_fitColumns());else{for(var e=!1,f=_getColumnFields(!0).concat(_getColumnFields(!1)),g=0;g<f.length;g++){var a=f[g],h=_getColumnOption(a);h.auto&&(b(a),e=!0)}e&&c.fitColumns&&(_fitGridSize(),_fitColumns())}}function _fixColumnSize(a){function b(a){var b=gridDataCenter.options,c=_getColumnOption(a);b.cellWidth[c.field]=c.width?c.width:"auto"}var c=(gridDataCenter.options,gridDataCenter.dc),d=c.view.find("table.datagrid-btable,table.datagrid-ftable");if(d.css("table-layout","fixed"),a)b(a);else for(var e=_getColumnFields(!0).concat(_getColumnFields(!1)),f=0;f<e.length;f++)b(e[f]);d.css("table-layout","auto"),_91(),setTimeout(function(){_fixRowHeight(),fixEditorSize()},0)}function _91(){var a=gridDataCenter.dc;a.body1.add(a.body2).find("td.datagrid-td-merged").each(function(){for(var a=$(this),b=a.attr("colspan")||1,c=_getColumnOption(a.attr("field")).width,d=1;b>d;d++)a=a.next(),c+=_getColumnOption(a.attr("field")).width+1;$(this).children("div.datagrid-cell").outerWidth(c)})}function fixEditorSize(){var a=gridDataCenter.dc;a.view.find("div.datagrid-editable").each(function(){var a=$(this),b=a.parent().attr("field"),c=dg.methods.getColumnOption(b);a.outerWidth(c.width);var d=$.data(this,"datagrid.editor");d.actions.resize&&d.actions.resize(d.target,a.width())})}function _getColumnOption(a){function b(b){if(b)for(var c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.length;e++){var f=d[e];if(f.field==a)return f}return null}var c=gridDataCenter.options,d=b(c.columns);return d||(d=b(c.frozenColumns)),d}function _getColumnFields(a){var b=gridDataCenter.options,c=1==a?b.frozenColumns:b.columns;if(0==c.length)return[];for(var d=[],e=0;e<c.length;e++)for(var f=0;f<c[e].length;f++)c[e][f].field&&d.push(c[e][f].field);return d}function buildGridBody(a){function b(){function b(a,b){for(var c=0;c<a.length;c++)if(a[c][d.idField]==b[d.idField])return a[c]=b,!0;return!1}if(d.idField)for(var e=0;e<a.rows.length;e++){var f=a.rows[e];b(c.selectedRows,f)&&_selectRow(e,!0),b(c.checkedRows,f)&&_checkRow(e,!0)}}var c=gridDataCenter,d=c.options,e=c.dc;if(a.total=parseInt(a.total),a.footer&&(c.footer=a.footer),!d.remoteSort){var f=_getColumnOption(d.sortName);if(f){var g=f.sorter||function(a,b){return a>b?1:-1};a.rows.sort(function(a,b){return g(a[d.sortName],b[d.sortName])*("asc"==d.sortOrder?1:-1)})}}d.view.onBeforeRender&&d.view.onBeforeRender.call(d.view,a.rows),d.view.render.call(d.view,e.body2,!1),d.view.render.call(d.view,e.body1,!0),d.showFooter&&(d.view.renderFooter.call(d.view,e.footer2,!1),d.view.renderFooter.call(d.view,e.footer1,!0)),d.view.onAfterRender&&d.view.onAfterRender.call(d.view),d.pagination&&scope.pageOptions.total!==a.total&&(scope.pageOptions.total=a.total),_fixRowHeight(),e.body2.triggerHandler("scroll"),b(),dg.methods.autoSizeColumn()}function _getRowIndex(a){var b=gridDataCenter.options,c=gridDataCenter.data.rows;if("object"==typeof a)return getObjectIndex(c,a);for(var d=0;d<c.length;d++)if(c[d][b.idField]==a)return d;return-1}function _getSelected(){var a=gridDataCenter,b=a.options,c=a.data,d=scope.dataRows;if(b.idField)return a.selectedRows;for(var e=[],f=0;f<d.length;f++)1==d[f].selected&&e.push(c.rows[f]);return e}function _getChecked(){var a=gridDataCenter,b=a.options;if(b.idField)return a.checkedRows;var c=[];return a.dc.view.find("div.datagrid-cell-check input:checked").each(function(){var a=$(this).closest("tr.datagrid-row").attr("datagrid-row-index");c.push(b.finder.getRow(a))}),c}function _selectRecord(a){var b=gridDataCenter.options;if(b.idField){var c=_getRowIndex(a);c>=0&&_selectRow(c)}}function _selectRow(a,b){var c=gridDataCenter.options;c.singleSelect&&_clearSelections(),!b&&c.checkOnSelect&&_checkRow(a,!0);var d=c.finder.getRow(a);c.idField&&idFieldRows(selectRows,c.idField,d),c.onSelect(a,d),scope.dataRows[a].selected=!0}function _unselectRow(a,b){var c=gridDataCenter,d=c.options,e=(c.dc,c.selectedRows);!b&&d.checkOnSelect&&_uncheckRow(a,!0),scope.dataRows[a].selected=!1;var f=d.finder.getRow(a);d.idField&&unSelectedRowsById(e,d.idField,f[d.idField]),d.onUnselect(a,f)}function _selectAll(a){var b=gridDataCenter,c=b.options,d=b.data.rows;b.selectedRows;!a&&c.checkOnSelect&&_checkAll(!0);for(var e=0;e<scope.dataRows.length;e++)scope.dataRows[e].selected=!0;c.onSelectAll(d)}function _clearSelections(a){var b=gridDataCenter,c=b.options,d=b.data.rows;b.selectedRows;!a&&c.checkOnSelect&&_clearChecked(!0);for(var e=0;e<scope.dataRows.length;e++)scope.dataRows[e].selected=!1;c.onUnselectAll(d)}function _checkRow(a,b){var c=gridDataCenter,d=c.options;scope.dataRows[a].checked=!0,!b&&d.selectOnCheck&&_selectRow(a,!0)}function _uncheckRow(a,b){var c=gridDataCenter,d=c.options;!b&&d.selectOnCheck&&_unselectRow(a,!0),scope.dataRows[a].checked=!1;var e=d.finder.getRow(a);d.idField&&unSelectedRowsById(c.checkedRows,d.idField,e[d.idField]),d.onUncheck(a,e)}function _checkAll(a){var b=gridDataCenter,c=b.options,d=b.data.rows;!a&&c.selectOnCheck&&_selectAll(!0);for(var e=0;e<scope.dataRows.length;e++)scope.dataRows[e].checked=!0;c.onCheckAll(d)}function _clearChecked(a){var b=gridDataCenter,c=b.options,d=b.data.rows;!a&&c.selectOnCheck&&_clearSelections(!0);for(var e=0;e<scope.dataRows.length;e++)scope.dataRows[e].checked=!1;if(c.idField)for(var e=0;e<d.length;e++)unSelectedRowsById(b.checkedRows,c.idField,d[e][c.idField]);c.onUncheckAll(d)}function _beginEdit(a){var b=gridDataCenter.options,c=b.finder.getTr(a),d=b.finder.getRow(a);c.hasClass("datagrid-row-editing")||0!=b.onBeforeEdit(a,d)&&(c.addClass("datagrid-row-editing"),createEditor(a),fixEditorSize(),c.find("div.datagrid-editable").each(function(){var a=$(this).parent().attr("field"),b=$.data(this,"datagrid.editor");b.actions.setValue(b.target,d[a])}),validateRow(a))}function _endEdit(a,b,c){var d=gridDataCenter.options,e=gridDataCenter.updatedRows,f=gridDataCenter.insertedRows,g=d.finder.getTr(a),h=d.finder.getRow(a);if(g.hasClass("datagrid-row-editing")){if(!b){if(!validateRow(a))return;var i=!1,j={};g.find("div.datagrid-editable").each(function(){var a=$(this).parent().attr("field"),b=$.data(this,"datagrid.editor"),c=$(b.target),d=c.data("textbox")?c.textbox("textbox"):c;d.triggerHandler("blur");var e=b.actions.getValue(b.target);h[a]!=e&&(h[a]=e,i=!0,j[a]=e)}),i&&-1==getObjectIndex(f,h)&&-1==getObjectIndex(e,h)&&e.push(h)}g.removeClass("datagrid-row-editing"),destroyEditor(a),dg.methods.refreshRow(a),b?d.onCancelEdit(a,h):d.onAfterEdit(a,h,j)}}function _getEditors(a){var b=gridDataCenter.options,c=b.finder.getTr(a),d=[];return c.children("td").each(function(){var a=$(this).find("div.datagrid-editable");if(a.length){var b=$.data(a[0],"datagrid.editor");d.push(b)}}),d}function _getEditor(a){for(var b=_getEditors(a.index),c=0;c<b.length;c++)if(b[c].field==a.field)return b[c];return null}function createEditor(a){var b=gridDataCenter.options,c=b.finder.getTr(a);c.children("td").each(function(){var a=$(this).find("div.datagrid-cell"),c=$(this).attr("field"),d=_getColumnOption(c);if(d&&d.editor){var e,f;"string"==typeof d.editor?e=d.editor:(e=d.editor.type,f=d.editor.options);var g=b.editors[e];if(g){var h=a.html(),i=a.outerWidth(),j='<table border="0" cellspacing="0" cellpadding="1"><tr><td style="text-align:'+d.align+';"></td></tr></table>';a.addClass("datagrid-editable"),a.outerWidth(i),a.html(j),a.children("table").bind("click dblclick contextmenu",function(a){a.stopPropagation()}),$.data(a[0],"datagrid.editor",{actions:g,target:g.init(a.find("td"),f),field:c,type:e,oldHtml:h})}}}),_fixRowHeight(a,!0)}function destroyEditor(a){var b=gridDataCenter.options,c=b.finder.getTr(a);c.children("td").each(function(){var a=$(this).find("div.datagrid-editable");if(a.length){var b=$.data(a[0],"datagrid.editor");b.actions.destroy&&b.actions.destroy(b.target),a.html(b.oldHtml),$.removeData(a[0],"datagrid.editor"),a.removeClass("datagrid-editable"),a.css("width","")}})}function validateRow(a){var b=gridDataCenter.options.finder.getTr(a);if(!b.hasClass("datagrid-row-editing"))return!0;var c=b.find(".validatebox-text");c.validatebox("validate"),c.trigger("mouseleave");var d=b.find(".validatebox-invalid");return 0==d.length}function _getChanges(a){var b=gridDataCenter.insertedRows,c=gridDataCenter.deletedRows,d=gridDataCenter.updatedRows;if(!a){var e=[];return e=e.concat(b),e=e.concat(c),e=e.concat(d)}return"inserted"==a?b:"deleted"==a?c:"updated"==a?d:[]}function _deleteRow(a){var b=gridDataCenter,c=b.options,d=b.data;b.insertedRows,b.deletedRows;d.rows.splice(a,1),d.total--,"auto"==c.height&&_fixRowHeight(),scope.pageOptions=d.total,scope.rows=gridData}function _insertRow(a){var b=gridDataCenter.data,c=gridDataCenter.options.view,d=gridDataCenter.insertedRows;c.insertRow.call(c,a.index,a.row),d.push(a.row),dg.methods.getPager().pagination("refresh",{total:b.total})}function _appendRow(a){var b=gridDataCenter.data,c=gridDataCenter.options.view,d=gridDataCenter.insertedRows;c.insertRow.call(c,null,a),d.push(a),dg.methods.getPager().pagination("refresh",{total:b.total})}function _loadData(){for(var a=gridDataCenter,b=a.data,c=b.rows,d=[],e=0;e<c.length;e++)d.push($.extend({},c[e]));a.originalRows=d,a.updatedRows=[],a.insertedRows=[],a.deletedRows=[]}function _acceptChanges(){for(var a=gridDataCenter.data,b=!0,c=0,d=a.rows.length;d>c;c++)validateRow(c)?_endEdit(c,!1):b=!1;b&&_loadData()}function _rejectChanges(){function a(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c][d.idField]);return b}function b(a,b){for(var c=0;c<a.length;c++){var d=_getRowIndex(a[c]);("s"==b?_selectRow:_checkRow)(d,!0)}}for(var c=gridDataCenter,d=c.options,e=c.originalRows,f=c.insertedRows,g=c.deletedRows,h=c.selectedRows,i=c.checkedRows,j=c.data,k=0;k<j.rows.length;k++)_endEdit(k,!0);var l=a(h),m=a(i);h.splice(0,h.length),i.splice(0,i.length),j.total+=g.length-f.length,j.rows=e,b(l,"s"),b(m,"c"),_loadData()}function _mergeCells(a){var b,c,d,e,f;if(a.rowspan=a.rowspan||1,a.colspan=a.colspan||1,!a.index&&(c=a.index,(1!=a.rowspan||1!=a.colspan)&&gridData[a.index]&&!(a.index+a.rowspan>gridData.length))){b=gridData[a.index].row;for(var g=0;g<b.length;g++)if(b[g].field===a.field){if(e=g,e+a.colspan>b.length)return;b[g].colspan=a.colspan,b[g].rowspan=a.rowspan,b[g].tdClass="datagrid-td-merged",d=b[g]}if(e){for(var g=1;g<a.colspan;g++)f=e,f++,b[f].style={display:"none"},b[f].field=a.field;for(var g=1;g<a.rowspan;g++){c++,b=gridData[c].row,f=e,b[f].style={display:"none"},b[f].field=a.field;for(var h=1;h<a.colspan;h++)f++,b[f].style={display:"none"},b[f].field=a.field}_91()}}}function _getElementOutWidth(a,b){var c;return a.appendTo(element),c=b?a.outerWidth(!0)-a.width():a.outerWidth()-a.width(),a.remove(),c}function _getElementOutHeight(a,b){var c;return a.appendTo(element),c=b?a.outerHeight(!0)-a.height():a.outerHeight()-a.height(),a.remove(),c}function wrapGrid(a){var b=$(element).find(".datagrid-wrap"),c=b.children("div.datagrid-view"),d=c.children("div.datagrid-view1"),e=c.children("div.datagrid-view2");return{panel:b,dc:{view:c,view1:d,view2:e,header1:d.children("div.datagrid-header").children("div.datagrid-header-inner"),header2:e.children("div.datagrid-header").children("div.datagrid-header-inner"),body1:d.children("div.datagrid-body").children("div.datagrid-body-inner"),body2:e.children("div.datagrid-body"),footer1:d.children("div.datagrid-footer").children("div.datagrid-footer-inner"),footer2:e.children("div.datagrid-footer").children("div.datagrid-footer-inner")}}}function _showCheckbox(){var a=gridDataCenter.options;a.checkbox?a.frozenColumns.length?(a.frozenColumns.checkbox=!0,a.columns.checkbox=!1):(a.frozenColumns.checkbox=!1,a.columns.checkbox=!0):(a.frozenColumns.checkbox=a.checkbox,a.columns.checkbox=a.checkbox)}function _showRownumbers(){var a=gridDataCenter.options;a.rownumbers?a.frozenColumns.length?(a.frozenColumns.rownumbers=!0,a.columns.rownumbers=!1):(a.frozenColumns.rownumbers=!1,a.columns.rownumbers=!0):(a.frozenColumns.rownumbers=a.rownumbers,a.columns.rownumbers=a.rownumbers)}function headchecked(a,b){var c=gridDataCenter.options;return c.singleSelect&&c.selectOnCheck?!1:(b?_checkAll():_clearChecked(),void a.stopPropagation())}function headMouseenter(a){gridDataCenter.resizing||$(a.target).addClass("datagrid-header-over")}function headMouseleave(a){$(a.target).removeClass("datagrid-header-over")}function headContextmenu(a){var b=$(a.target).attr("field");gridDataCenter.options.onHeaderContextMenu.call(a,b)}function headGridcellClick(a){}function headGridcellDblClick(a){}function bodyMouseover(a){if(!gridDataCenter.resizing){var b=$(a.target).closest("tr.datagrid-row");b.length&&(b.addClass("datagrid-row-over"),a.stopPropagation())}}function bodyMouseleave(a){var b=$(a.target).closest("tr.datagrid-row");b.length&&(b.removeClass("datagrid-row-over"),a.stopPropagation())}function bodyClick(a,b){var c=gridDataCenter.options,d=$(a.target),e=d.closest("tr.datagrid-row");if(e.length){if(d.parent().hasClass("datagrid-cell-check"))c.singleSelect&&c.selectOnCheck?(c.checkOnSelect||_clearChecked(!0),_checkRow(b)):1==scope.dataRows[b].checked?_checkRow(b):_uncheckRow(b);else{var f=c.finder.getRow(b),g=d.closest("td[field]",e);if(g.length){var h=g.attr("field");c.onClickCell(b,h,f[h])}1==c.singleSelect?_selectRow(b):e.hasClass("datagrid-row-selected")?_unselectRow(b):_selectRow(b),c.onClickRow(b,f)}a.stopPropagation()}}function bodyDblclick(a,b){var c=gridDataCenter.options,d=$(a.target),e=d.closest("tr.datagrid-row");if(e.length){var f=c.finder.getRow(b),g=$(a.target).closest("td[field]");if(g.length){var h=g.attr("field");c.onDblClickCell(b,h,f[h])}c.onDblClickRow(b,f),a.stopPropagation()}}function bodyContextmenu(a,b){var c=gridDataCenter.options,d=c.finder.getRow(b);c.onRowContextMenu.call(a,b,d),a.stopPropagation()}function bodyScroll(a){var b=gridDataCenter.dc;b.view1.children("div.datagrid-body").scrollTop($(a.target).scrollTop()),b.view2.children("div.datagrid-header,div.datagrid-footer").scrollLeft($(a.target).scrollLeft()),b.body2.children("table.datagrid-btable-frozen").css("left",-$(a.target).scrollLeft())}function refreshData(){var a=gridDataCenter.options;parse(scope.gridData),buildGridBody(gridDataCenter.data),resetDataAndStyle(),a.onLoadSuccess(scope.gridData)}function resetDataAndStyle(){scope.frozenDataRows=gridData.frozenDataRows,scope.dataRows=gridData.dataRows,scope.gridStyle=gridStyle,scope.columnsRows.checked=!1,scope.frozenColumnsRows.checked=!1}function parse(a){var b=gridDataCenter.options;a&&a.data&&(gridDataCenter.data.rows=a.data,a.page?(gridDataCenter.data.total=a.page.total||a.data.length,b.pageNumber=scope.gridData.page.pageNumber||b.pageNumber,b.pageSize=scope.gridData.page.pageSize||b.pageSize):gridDataCenter.data.total=a.data.length)}var eui=window.eui,dg={},gridDataCenter,gridStyle={panel:{},datagridWrap:{},datagridView:{},datagridView1:{},datagridView1head:{},datagridView1body:{},datagridView1foot:{},datagridView1htable:{},datagridView2:{},datagridView2head:{},datagridView2body:{},datagridView2foot:{},datagridView2htable:{}},paraConfig={rownumbersWidth:28},_width,_height,gridData=[];$.fn._propAttr=$.fn.prop||$.fn.attr,_width=attrs.width?attrs.width:element.parent().width(),_height=attrs.height?attrs.height:element.parent().height(),null!=scope.gridMethods&&angular.isObject(scope.gridMethods)&&(dg.methods=scope.gridMethods,dg.methods.options=function(){var a=gridDataCenter.options;return a},dg.methods.getPanel=function(){return gridDataCenter.panel},dg.methods.getPager=function(){return gridDataCenter.panel.children("div.datagrid-pager")},dg.methods.getColumnFields=function(a){return _getColumnFields(a)},dg.methods.getColumnOption=function(a){return _getColumnOption(a)},dg.methods.resize=function(a){return _resize(a)},dg.methods.load=function(a){var b=dg.methods.options();b.pageNumber=1,_load(a)},dg.methods.reload=function(a){return function(){_load(a)}},dg.methods.reloadFooter=function(a){return function(){var b=gridDataCenter.options,c=gridDataCenter.dc;a&&(gridDataCenter.footer=a),b.showFooter&&(b.view.renderFooter.call(b.view,this,c.footer2,!1),b.view.renderFooter.call(b.view,this,c.footer1,!0),b.view.onAfterRender&&b.view.onAfterRender.call(b.view,this),dg.methods.fixRowHeight(this))}},dg.methods.loading=function(){return function(){var a=gridDataCenter.options;if(dg.methods.getPager(this).pagination("loading"),a.loadMsg){var b=dg.methods.getPanel(this);$('<div class="datagrid-mask" style="display:block"></div>').appendTo(b);var c=$('<div class="datagrid-mask-msg" style="display:block;left:50%"></div>').html(a.loadMsg).appendTo(b);c.css("marginLeft",-c.outerWidth()/2)}}},dg.methods.loaded=function(){return function(){dg.methods.getPager(this).pagination("loaded");var a=dg.methods.getPanel(this);a.children("div.datagrid-mask-msg").remove(),a.children("div.datagrid-mask").remove()}},dg.methods.fitColumns=function(){return function(){_fitColumns(this)}},dg.methods.fixColumnSize=function(a){return function(){_fixColumnSize(a)}},dg.methods.fixRowHeight=function(a){return _fixRowHeight(a)},dg.methods.freezeRow=function(a){return function(){_freezeRow(this,a)}},dg.methods.autoSizeColumn=function(a){return function(){_autoSizeColumn(this,a)}},dg.methods.loadData=function(a){return function(){_loadData(this)}},dg.methods.getData=function(){return gridDataCenter.data},dg.methods.getRows=function(){return gridDataCenter.data.rows},dg.methods.getFooterRows=function(){return gridDataCenter.footer},dg.methods.getRowIndex=function(a){return _getRowIndex(a)},dg.methods.getChecked=function(){return _getChecked()},dg.methods.getSelected=function(){var a=_getSelected();return a.length>0?a[0]:null},dg.methods.getSelections=function(){return _getSelected()},dg.methods.clearSelections=function(){return function(){var a=gridDataCenter.selectedRows;a.splice(0,a.length),_clearSelections(this)}},dg.methods.clearChecked=function(){return function(){var a=gridDataCenter.checkedRows;a.splice(0,a.length),_clearChecked(this)}},dg.methods.selectAll=function(){return function(){_selectAll(this)}},dg.methods.unselectAll=function(){return function(){_clearSelections(this)}},dg.methods.selectRow=function(a){return function(){_selectRow(this,a)}},dg.methods.selectRecord=function(a){return function(){_selectRecord(this,a)}},dg.methods.unselectRow=function(a){return function(){_unselectRow(this,a)}},dg.methods.checkRow=function(a){return function(){_checkRow(this,a)}},dg.methods.uncheckRow=function(a){return function(){_uncheckRow(this,a)}},dg.methods.checkAll=function(){return function(){_checkAll(this)}},dg.methods.uncheckAll=function(){return function(){_clearChecked(this)}},dg.methods.beginEdit=function(a){return function(){_beginEdit(this,a)}},dg.methods.endEdit=function(a,b){return function(){_endEdit(this,a,!1,b)}},dg.methods.cancelEdit=function(a){return function(){_endEdit(this,a,!0)}},dg.methods.getEditors=function(a){return _getEditors(element[0],a)},dg.methods.getEditor=function(a){return _getEditor(element[0],a)},dg.methods.refreshRow=function(a){var b=gridDataCenter.options;b.view.refreshRow.call(b.view,a)},dg.methods.validateRow=function(a){return validateRow(element[0],a)},dg.methods.updateRow=function(a){var b=gridDataCenter.options;b.view.updateRow.call(b.view,a.index,a.row)},dg.methods.appendRow=function(a){return function(){_appendRow(this,a)}},dg.methods.insertRow=function(a){return function(){_insertRow(this,a)}},dg.methods.deleteRow=function(a){return _deleteRow(a)},dg.methods.getChanges=function(a){return _getChanges(a)},dg.methods.acceptChanges=function(){return function(){_acceptChanges(this)}},dg.methods.rejectChanges=function(){return function(){_rejectChanges(this)}},dg.methods.mergeCells=function(a){return _mergeCells(element[0],a)},dg.methods.showColumn=function(a){return function(){var b=dg.methods.getPanel(this);b.find('td[field="'+a+'"]').show(),dg.methods.getColumnOption(this,a).hidden=!1,dg.methods.fitColumns(this)}},dg.methods.hideColumn=function(a){return function(){var b=dg.methods.getPanel(this);b.find('td[field="'+a+'"]').hide(),dg.methods.getColumnOption(this,a).hidden=!0,dg.methods.fitColumns(this)}});var view={render:function(a,b){var c=gridDataCenter,d=c.options,e=c.data.rows,f=[],g=dg.methods.getColumnFields(b);if(!b||!d.frozenColumns||0!==d.frozenColumns.length){for(var h=0;h<e.length;h++){var i={},j=e[h];i.striped=h%2&&d.striped?!0:!1,i.rowStyle=d.rowStyler?d.rowStyler.call(element,h,e[h]):{},i.index=h,i.selected=!1,i.row=[];for(var k=0;k<g.length;k++){var l=dg.methods.getColumnOption(g[k]),m={},n=g[k],o="";l.hidden&&(m.hidden=l.hidden),m.field=n,m.width=d.cellWidth[m.field],o=l.formatter?l.formatter(j[g[k]],j,i.index):void 0===j[g[k]]?"":j[g[k]],m.align=l.align||"center",d.nowrap||(m.height="auto"),d.showBodyTitle&&(m.tips=j[g[k]]),o="<div>"+o+"</div>",m.value=$sce.trustAsHtml(o),l&&(m.style=l.styler?l.styler(j[g[k]],j,i.index)||{}:{}),i.row.push(m)}f.push(i)}b?gridData.frozenDataRows=f:gridData.dataRows=f}},renderFooter:function(a,b){for(var c=(gridDataCenter.options,gridDataCenter.footer||[]),d=dg.methods.getColumnFields(b),e=['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'],f=0;f<c.length;f++)e.push('<tr class="datagrid-row" datagrid-row-index="'+f+'">'),e.push(this.renderRow.call(this,target,d,b,f,c[f])),e.push("</tr>");e.push("</tbody></table>"),$(a).html(e.join(""))},renderRow:function(a,b,c,d){var e=gridDataCenter.options,f=[],c=c+1;e.pagination&&(c+=(e.pageNumber-1)*e.pageSize),b?(e.frozenColumns&&e.frozenColumns.rownumbers&&f.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">'+c+"</div></td>"),e.frozenColumns&&e.frozenColumns.checkbox&&f.push('<td><div class="datagrid-cell-check"><input type="checkbox"></div></td>')):(e.columns&&e.columns.rownumbers&&f.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">'+c+"</div></td>"),e.columns&&e.columns.checkbox&&f.push('<td><div class="datagrid-cell-check"><input type="checkbox"></div></td>'));for(var g=0;g<a.length;g++){var h=a[g],i=dg.methods.getColumnOption(h);if(i){var j=d[h],k=i.styler?i.styler(j,d,c)||"":"",k=i.hidden?'style="display:none;'+k+'"':k?'style="'+k+'"':"";f.push('<td field="'+h+'" '+k+">");var k="";i.align&&(k+="text-align:"+i.align+";"),e.nowrap?e.autoRowHeight&&(k+="height:auto;"):k+="white-space:normal;height:auto;",f.push('<div style="'+k+'" '),i.checkbox?f.push('class="datagrid-cell-check '):f.push('class="datagrid-cell '+i.cellClass),f.push('">'),i.formatter?f.push(i.formatter(j,d,c)):f.push(j),f.push("</div>"),f.push("</td>")}}return f.join("")},refreshRow:function(a){function b(a){var b=d.rowStyler?d.rowStyler.call(element,a,e[a]):{},c=(angular.toJson(b),angular.fromJson(b),""),f="",g="";return"string"==typeof c?g=c:c&&(f=c["class"]||"",g=c.style||""),{c:f,s:g}}function c(b){var c=dg.methods.getColumnFields(b),f=d.finder.getTr(a,"body",b?1:2),g=f.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");f.html(this.renderRow.call(this,target,c,b,a,e[a])),f.attr("style",i).removeClass(h).addClass(j),g&&f.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0)}var d=gridDataCenter.options,e=gridDataCenter.data.rows,f=b(a),g=b(a),h=f.c,i=g.s,j="datagrid-row "+(a%2&&d.striped?"datagrid-row-alt ":" ")+g.c;c.call(this,!0),c.call(this,!1),dg.methods.fixRowHeight(a)},updateRow:function(a,b){var c=(gridDataCenter.options,gridDataCenter.data.rows);$.extend(c[a],b),dg.methods.fixRowHeight(a)},insertRow:function(a,b){function c(b){for(var c=b?1:2,d=h.rows.length-1;d>=a;d--){var e=f.finder.getTr(d,"body",c);if(e.attr("datagrid-row-index",d+1),b&&f.rownumbers){var g=d+2;f.pagination&&(g+=(f.pageNumber-1)*f.pageSize),e.find("div.datagrid-cell-rownumber").html(g)}}}function d(b){var c=b?1:2,d=(dg.methods.getColumnFields(b),'<tr class="datagrid-row" datagrid-row-index="'+a+'"></tr>');if(a>=h.rows.length)if(h.rows.length)f.finder.getTr("","last",c).after(d);else{var e=b?g.body1:g.body2;e.html('<table cellspacing="0" cellpadding="0" border="0"><tbody>'+d+"</tbody></table>")}else f.finder.getTr(a+1,"body",c).before(d)}var e=gridDataCenter,f=e.options,g=e.dc,h=e.data;(void 0==a||null==a)&&(a=h.rows.length),a>h.rows.length&&(a=h.rows.length),c.call(this,!0),c.call(this,!1),d.call(this,!0),d.call(this,!1),h.total+=1,h.rows.splice(a,0,b),this.refreshRow.call(this,a)},deleteRow:function(a){function b(b){for(var c=b?1:2,f=a+1;f<e.rows.length;f++){var g=d.finder.getTr(f,"body",c);if(g.attr("datagrid-row-index",f-1),b&&d.rownumbers){var h=f;d.pagination&&(h+=(d.pageNumber-1)*d.pageSize),g.find("div.datagrid-cell-rownumber").html(h)}}}var c=gridDataCenter,d=c.options,e=c.data;d.finder.getTr(a).remove(),b.call(this,!0),b.call(this,!1),e.total-=1,e.rows.splice(a,1)},onBeforeRender:function(a){},onAfterRender:function(){var a=gridDataCenter.options;if(a.showFooter){var b=dg.methods.getPanel(element).find("div.datagrid-footer");b.find("div.datagrid-cell-rownumber,div.datagrid-cell-check").css("visibility","hidden")}}};dg.parseOptions=function(_1c8){var t=$(_1c8);return $.extend({},$.fn.panel.parseOptions(_1c8),$.parser.parseOptions(_1c8,["url","toolbar","idField","sortName","sortOrder","pagePosition","resizeHandle",{fitColumns:"boolean",autoRowHeight:"boolean",striped:"boolean",nowrap:"boolean"},{rownumbers:"boolean",singleSelect:"boolean",checkOnSelect:"boolean",selectOnCheck:"boolean"},{pagination:"boolean",pageSize:"number",pageNumber:"number"},{remoteSort:"boolean",showHeader:"boolean",showFooter:"boolean"},{scrollbarSize:"number"}]),{pageList:t.attr("pageList")?eval(t.attr("pageList")):void 0,loadMsg:void 0!=t.attr("loadMsg")?t.attr("loadMsg"):void 0,rowStyler:t.attr("rowStyler")?eval(t.attr("rowStyler")):void 0})};var editors={text:{init:function(a,b){var c=$('<input type="text" class="datagrid-editable-input">').appendTo(a);return c},getValue:function(){return $(element).val()},setValue:function(a){$(element).val(a)},resize:function(a){$(element).outerWidth(a)}},textarea:{init:function(a,b){var c=$('<textarea class="datagrid-editable-input"></textarea>').appendTo(a);return c},getValue:function(){return $(element).val()},setValue:function(a){$(element).val(a)},resize:function(a){$(element).outerWidth(a)}},checkbox:{init:function(a,b){var c=$('<input type="checkbox">').appendTo(a);return c.val(b.on),c.attr("offval",b.off),c},getValue:function(a){return $(a).is(":checked")?$(a).val():$(a).attr("offval")},setValue:function(a){var b=!1;$(target).val()==a&&(b=!0),$(target)._propAttr("checked",b)}},numberbox:{init:function(a,b){var c=$('<input type="text" class="datagrid-editable-input">').appendTo(a);return c.numberbox(b),c},destroy:function(a){$(a).numberbox("destroy")},getValue:function(a){return $(a).blur(),$(a).numberbox("getValue")},setValue:function(a){$(target).numberbox("setValue",a)},resize:function(a){$(target).outerWidth(a)}},validatebox:{init:function(a,b){var c=$('<input type="text" class="datagrid-editable-input">').appendTo(a);return c.validatebox(b),c},destroy:function(a){$(a).validatebox("destroy")},getValue:function(a){return $(a).val()},setValue:function(a){$(target).val(a)},resize:function(a){$(target).outerWidth(a)}},datebox:{init:function(a,b){var c=$('<input type="text">').appendTo(a);return c.datebox(b),c},destroy:function(a){$(a).datebox("destroy")},getValue:function(a){return $(a).datebox("getValue")},setValue:function(a){$(target).datebox("setValue",a)},resize:function(a){$(target).datebox("resize",a)}},combobox:{init:function(a,b){var c=$('<input type="text">').appendTo(a);return c.combobox(b||{}),c},destroy:function(a){$(a).combobox("destroy")},getValue:function(a){return $(a).combobox("getValue")},setValue:function(a){$(target).combobox("setValue",a)},resize:function(a){$(target).combobox("resize",a)}},combotree:{init:function(a,b){var c=$('<input type="text">').appendTo(a);return c.combotree(b),c},destroy:function(a){$(a).combotree("destroy")},getValue:function(a){return $(a).combotree("getValue")},setValue:function(a){$(target).combotree("setValue",a)},resize:function(a){$(target).combotree("resize",a)}}};dg.defaults=$.extend({},{frozenColumns:[],columns:[],fitColumns:!1,resizeHandle:"right",autoRowHeight:!0,toolbar:null,striped:!1,method:"post",nowrap:!0,idField:null,url:null,data:{data:"data",pageData:"data",pageSize:"pageSize",pageNumber:"pageNumber",total:"total"},loadMsg:"Processing, please wait ...",rownumbers:!1,checkbox:!1,singleSelect:!1,selectOnCheck:!0,checkOnSelect:!0,pagination:!1,pagePosition:"bottom",pageNumber:1,pageSize:10,pageList:[10,20,30,40,50],queryParams:{},sortName:null,sortOrder:"asc",sort:[],diffPage:0,remoteSort:!0,showHeaderTitle:!0,showBodyTitle:!0,showHeader:!0,showFooter:!1,scrollbarSize:22,rowStyler:function(a,b){},loadFilter:function(a){return"number"==typeof a.length&&"function"==typeof a.splice?{total:a.length,rows:a}:a},editors:editors,finder:{getTr:function(a,b,c){b=b||"body",c=c||0;var d=gridDataCenter.dc,e=gridDataCenter.options;if(0==c){var f=e.finder.getTr(a,b,1),g=e.finder.getTr(a,b,2);return f.add(g)}if("body"==b){var h=$("#"+gridDataCenter.rowIdPrefix+"-"+c+"-"+a);return h.length||(h=(1==c?d.body1:d.body2).find(">table>tbody>tr[datagrid-row-index="+a+"]")),h}return"footer"==b?(1==c?d.footer1:d.footer2).find(">table>tbody>tr[datagrid-row-index="+a+"]"):"selected"==b?(1==c?d.body1:d.body2).find(">table>tbody>tr.datagrid-row-selected"):"last"==b?(1==c?d.body1:d.body2).find(">table>tbody>tr[datagrid-row-index]:last"):"allbody"==b?(1==c?d.body1:d.body2).find(">table>tbody>tr[datagrid-row-index]"):"allfooter"==b?(1==c?d.footer1:d.footer2).find(">table>tbody>tr[datagrid-row-index]"):void 0},getRow:function(a){return gridDataCenter.data.rows[parseInt(a)]}},view:view,onBeforeLoad:function(a){},onLoadSuccess:function(){},onLoadError:function(){},onClickRow:function(a,b){},onDblClickRow:function(a,b){},onClickCell:function(a,b,c){},onDblClickCell:function(a,b,c){},onSortColumn:function(a,b){},onResizeColumn:function(a,b){},onSelect:function(a,b){},onUnselect:function(a,b){},onSelectAll:function(a){},
onUnselectAll:function(a){},onCheck:function(a,b){},onUncheck:function(a,b){},onCheckAll:function(a){},onUncheckAll:function(a){},onBeforeEdit:function(a,b){},onAfterEdit:function(a,b,c){},onCancelEdit:function(a,b){},onHeaderContextMenu:function(a,b){},onRowContextMenu:function(a,b,c){}}),scope.showPanel=function(a){var b=gridDataCenter.panel;"none"===b.css("display")?($(element).find(".panel-tool-collapse").removeClass("panel-tool-expand"),b.slideDown()):($(element).find(".panel-tool-collapse").addClass("panel-tool-expand"),b.slideUp())},scope.bindEvent={headchecked:headchecked,headMouseenter:headMouseenter,headMouseleave:headMouseleave,headContextmenu:headContextmenu,headGridcellClick:headGridcellClick,headGridcellDblClick:headGridcellDblClick,bodyMouseover:bodyMouseover,bodyMouseleave:bodyMouseleave,bodyClick:bodyClick,bodyDblclick:bodyDblclick,bodyContextmenu:bodyContextmenu,bodyScroll:bodyScroll},configGrid(),scope.$watch("gridData",refreshData,!0);var onResizeHandler=function(){_resize()};reqChannel.onResizeElement(scope,onResizeHandler)}}}]).directive("dyCompile",["$compile",function(a){return{replace:!0,restrict:"EA",link:function(b,c,d){var e,f={$destroy:angular.noop},g=c,h=function(){(e||f).$destroy()};d.$observe("html",function(c){if(c){h(),e=b.$new(!1);var d=a(c)(e);g.replaceWith(d),g=d}b.$on("$destroy",h)})}}}]),angular.module("eui.input",["eui"]).controller("euiinputCtrl",function(a){}).directive("euiInput",["$window","$timeout","$document","$euiPosition","$interpolate","$parse","$$stackedMap",function(a,b,c,d,e,f,g){return{restrict:"E",templateUrl:"../input/template/input/input.html",replace:!0,transclude:!0,controller:"euiinputCtrl",scope:{options:"=",inputValue:"="},link:function(a,b,c){var d={isOpen:!1,placement:"left",name:"",inputValue:"",valid:[{pattern:"",content:""},{minlength:"",content:""},{maxlength:"",content:""}]};a.value=a.inputValue,a.options=angular.extend(d,a.options),a.content=a.options.valid[1].content}}}]),angular.module("eui.input",[]).controller("euiinputCtrl",function(a){}).directive("euiInput",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/input/input.html"},replace:!0,transclude:!0,controller:"euiinputCtrl",scope:{required:"=?",txtvalue:"@",disabled:"=?",iconCls:"@",plain:"=?",onlyIcon:"@",enabled:"=?",flag:"@"},link:function(a,b,c){a.disabled="true"==c.disabled?!0:!1,a.txtvalue=c.txtvalue,a.requiredtext="标示必填项！",a.errorMsg="不能为空！";a.iconCls=a.iconCls?a.iconCls:"",a.flag="false"===a.flag||void 0===a.flag?!1:!0,a.plain="false"===a.plain||void 0===a.plain?!1:!0,a.onlyIcon="false"===a.onlyIcon||void 0===a.onlyIcon?!1:!0;var d=function(){a.enabled=a.enabled===!1||"false"===a.enabled?!1:!0,a.enabled?$(b).hasClass("eui-button-disabled")&&$(b).removeClass("eui-button-disabled"):$(b).hasClass("eui-button-disabled")||$(b).addClass("eui-button-disabled")};d(),a.$watch("enabled",d,!0),a.flag?(a.iconCls&&($(b).children().eq(0).addClass(a.iconCls),c.onlyIcon?($(b).children().eq(0).html("&nbsp"),$(b).children().eq(0).addClass("eui-button-iconOnly")):$(b).children().eq(0).addClass("eui-button-icon")),a.plain?$(b).hasClass("eui-button-plain")||$(b).addClass("eui-button-plain"):$(b).hasClass("eui-button-plain")&&$(b).removeClass("eui-button-plain")):(c.iconCls&&($(b).children().eq(0).addClass(c.iconCls),c.onlyIcon?($(b).children().eq(0).html("&nbsp"),$(b).children().eq(0).addClass("eui-button-iconOnly")):$(b).children().eq(0).addClass("eui-button-icon")),c.plain?$(b).hasClass("eui-button-plain")||$(b).addClass("eui-button-plain"):$(b).hasClass("eui-button-plain")&&$(b).removeClass("eui-button-plain")),c.allow&&$(b).find(".eui-button-allow").css("display","inline-block")}}}]),angular.module("eui.layout",["eui"]).controller("euiLayoutCtrl",["$scope","$attrs","$element","$timeout","$window","LayoutContainer","Layout",function(a,b,c,d,e,f,g){function h(){var b=m.sizeProperties.flowProperty,e=parseInt(n.dividerSize),f=c[0][m.sizeProperties.offsetSize];if(null!==m.movingSplitbar){var g=m.containers.indexOf(m.movingSplitbar),h=g+2<m.containers.length?g+2:null;if(g>-1){var i=m.processSplitbar(m.containers[g]),j=i.beforeContainer,o=i.afterContainer;if(!j.collapsed&&!o.collapsed){var p=m.movingSplitbar[b]-l,r=m.movingSplitbar[b]-p;r=Math.min(f-e,r),angular.isNumber(j.beforeMinValue)&&r<j.beforeMinValue&&(r=j.beforeMinValue),angular.isNumber(j.beforeMaxValue)&&r>j.beforeMaxValue&&(r=j.beforeMaxValue),null!==o&&angular.isNumber(o.afterMinValue)&&r>o.afterMinValue-e&&(r=o.afterMinValue-e),null!==o&&angular.isNumber(o.afterMaxValue)&&r<o.afterMaxValue&&(r=o.afterMaxValue),j.size=r-j[b],j.uncollapsedSize=j.size;var s=o[b];o[b]=r+e,o[b]!=s&&(o.size=null!==h?s+o.size-(r+e):f-(r+e),o.uncollapsedSize=o.size),m.movingSplitbar[b]=r,q&&d.cancel(q),q=d(function(){a.$broadcast("eui.layout.resize",j,o),q=null},50)}}}k=null}function i(a){var b=a[0],c=document.documentElement||document.body,d=window.pageXOffset||c.scrollLeft,e=window.pageYOffset||c.scrollTop,f=b.getBoundingClientRect(),g=f.left+d,h=f.top+e;return{left:g,top:h}}function j(a){return"number"==typeof a||"string"==typeof a&&a.match(p)?a:null}var k,l,m=this,n=angular.extend({},a.$eval(b.euiLayout),a.$eval(b.options)),o=0,p=/\d+\s*(px|%)\s*$/i;g.addLayout(m),m.containers=[],m.movingSplitbar=null,m.bounds=c[0].getBoundingClientRect(),m.isUsingColumnFlow="column"===n.flow,m.sizeProperties=m.isUsingColumnFlow?{sizeProperty:"width",offsetSize:"offsetWidth",offsetPos:"left",flowProperty:"left",oppositeFlowProperty:"right",mouseProperty:"clientX",flowPropertyPosition:"x"}:{sizeProperty:"height",offsetSize:"offsetHeight",offsetPos:"top",flowProperty:"top",oppositeFlowProperty:"bottom",mouseProperty:"clientY",flowPropertyPosition:"y"},c.addClass("stretch").addClass("eui-layout-"+(n.flow||"row")),n.disableToggle&&c.addClass("no-toggle"),n.disableMobileToggle&&c.addClass("no-mobile-toggle"),n.sizes=n.sizes||[],n.maxSizes=n.maxSizes||[],n.minSizes=n.minSizes||[],n.dividerSize=void 0===n.dividerSize?10:n.dividerSize,n.collapsed=n.collapsed||[],m.opts=n,a.updateDisplay=function(){m.calculate()};var q;return m.mouseUpHandler=function(a){return null!==m.movingSplitbar&&(m.movingSplitbar=null),a},m.mouseMoveHandler=function(a){var b=a[m.sizeProperties.mouseProperty]||a.originalEvent&&a.originalEvent[m.sizeProperties.mouseProperty]||(e.jQuery?a.originalEvent?a.originalEvent.targetTouches[0][m.sizeProperties.mouseProperty]:0:a.targetTouches?a.targetTouches[0][m.sizeProperties.mouseProperty]:0);l=b-i(c)[m.sizeProperties.offsetPos],k&&window.cancelAnimationFrame(k),k=window.requestAnimationFrame(h)},m.processSplitbar=function(a){var b=m.containers.indexOf(a),c=function(a){var b=a[m.sizeProperties.flowProperty],c=a[m.sizeProperties.flowProperty]+a.size;a.beforeMinValue=angular.isNumber(a.minSize)?b+a.minSize:b,a.beforeMaxValue=angular.isNumber(a.maxSize)?b+a.maxSize:null,a.afterMinValue=angular.isNumber(a.minSize)?c-a.minSize:c,a.afterMaxValue=angular.isNumber(a.maxSize)?c-a.maxSize:null};if(b>-1){var d=b>0?m.containers[b-1]:null,e=b+1<=m.containers.length?m.containers[b+1]:null;return null!==d&&c(d),null!==e&&c(e),{beforeContainer:d,afterContainer:e}}return null},m.isPercent=function(a){return a&&angular.isString(a)&&a.indexOf("%")>-1?!0:!1},m.convertToPixels=function(a,b){return Math.floor(b*(parseInt(a)/100))},m.calculate=function(){var a,b,d=parseInt(n.dividerSize),e=c[0].getBoundingClientRect()[m.sizeProperties.sizeProperty],g=e-d*o,h=g,i=0,k=0;if(m.containers.length>0&&c.children().length>0){for(b=0;b<m.containers.length;b++)f.isSplitbar(m.containers[b])||(a=m.containers[b],n.sizes[b]=a.isCentral?"auto":a.collapsed?j(a.minSize)||"0px":j(a.uncollapsedSize)||"auto",n.minSizes[b]=j(a.minSize),n.maxSizes[b]=j(a.maxSize),"auto"!==n.sizes[b]&&(m.isPercent(n.sizes[b])?n.sizes[b]=m.convertToPixels(n.sizes[b],h):n.sizes[b]=parseInt(n.sizes[b])),null!==n.minSizes[b]&&(m.isPercent(n.minSizes[b])?n.minSizes[b]=m.convertToPixels(n.minSizes[b],h):n.minSizes[b]=parseInt(n.minSizes[b]),!a.collapsed&&n.sizes[b]<n.minSizes[b]&&(n.sizes[b]=n.minSizes[b])),null!==n.maxSizes[b]&&(m.isPercent(n.maxSizes[b])?n.maxSizes[b]=m.convertToPixels(n.maxSizes[b],h):n.maxSizes[b]=parseInt(n.maxSizes[b]),n.sizes[b]>n.maxSizes[b]&&(n.sizes[b]=n.maxSizes[b])),"auto"===n.sizes[b]?k++:g-=n.sizes[b]);var l=Math.floor(g/k),p=g-l*k;for(b=0;b<m.containers.length;b++){if(a=m.containers[b],a[m.sizeProperties.flowProperty]=i,a.maxSize=n.maxSizes[b],a.minSize=n.minSizes[b],f.isSplitbar(a))a.size=d;else{var q;"auto"===n.sizes[b]?(q=l,p>0&&b===m.containers.length-1&&(q+=p)):q=n.sizes[b],a.size=null!==q?q:l}i+=a.size}}},m.addContainer=function(a){var b=m.indexOfElement(a.element);return!angular.isDefined(b)||0>b||m.containers.length<b?void console.error("Invalid index to add container; i="+b+", len=",m.containers.length):(f.isSplitbar(a)&&o++,a.index=b,m.containers.splice(b,0,a),void m.calculate())},m.removeContainer=function(a){var b=m.containers.indexOf(a);if(b>=0){f.isSplitbar(a)?(m.containers[b-1].collapsed=!1,o--):m.containers.length>2&&(b==m.containers.length-1?m.containers[b-1].element.remove():m.containers[b+1].element.remove());var c=m.containers.indexOf(a);c>=0&&(m.containers.splice(c,1),m.opts.maxSizes.splice(c,1),m.opts.minSizes.splice(c,1),m.opts.sizes.splice(c,1)),m.calculate()}else console.error("removeContainer for container that did not exist!")},m.getContainers=function(){return m.containers},m.toggleContainer=function(a){var b,c=m.containers[a+1];c?b=c.element[0].children[0]:(c=m.containers[a-1],b=c.element[0].children[1]),d(function(){angular.element(b).triggerHandler("click")})},m.toggleBefore=function(b){var c=m.containers.indexOf(b)-1,d=m.containers[c];d.collapsed=!m.containers[c].collapsed;var e=m.containers[c+1],f=m.containers[c+2];return void 0===d.uncollapsedSize?d.uncollapsedSize=d.size:d.uncollapsedSize=parseInt(d.uncollapsedSize),a.$apply(function(){d.collapsed?(d.size=0,e&&(e[m.sizeProperties.flowProperty]-=d.uncollapsedSize),f&&(f[m.sizeProperties.flowProperty]-=d.uncollapsedSize,f.uncollapsedSize+=d.uncollapsedSize)):(d.size=d.uncollapsedSize,e&&(e[m.sizeProperties.flowProperty]+=d.uncollapsedSize),f&&(f[m.sizeProperties.flowProperty]+=d.uncollapsedSize,f.uncollapsedSize-=d.uncollapsedSize))}),a.$broadcast("eui.layout.toggle",d),g.toggled(),d.collapsed},m.toggleAfter=function(b){var d,e=m.containers.indexOf(b)+1,f=m.containers[e],h=m.containers[e-1],i=m.containers[e-2],j=e===m.containers.length-1,k=m.sizeProperties.flowProperty,l=m.sizeProperties.sizeProperty;return m.bounds=c[0].getBoundingClientRect(),f.collapsed=!m.containers[e].collapsed,void 0===f.uncollapsedSize?f.uncollapsedSize=f.size:f.uncollapsedSize=parseInt(f.uncollapsedSize),a.$apply(function(){f.collapsed?(f.size=0,d=j?m.bounds[l]-f[k]-f.uncollapsedSize:0,h&&(h[k]+=f.uncollapsedSize+d),i&&(i.size+=f.uncollapsedSize+d)):(f.size=f.uncollapsedSize,d=j?m.bounds[l]-f[k]-f.uncollapsedSize:0,h&&(h[k]-=f.uncollapsedSize+d),i&&(i.size-=f.uncollapsedSize+d))}),a.$broadcast("eui.layout.toggle",f),g.toggled(),f.collapsed},m.getPreviousSplitbarContainer=function(a){if(f.isSplitbar(a)){var b=m.containers.indexOf(a),c=b-2;return c>=0?m.containers[c]:null}return null},m.getNextSplitbarContainer=function(a){if(f.isSplitbar(a)){var b=m.containers.indexOf(a),c=b+2;return b>0&&c<m.containers.length?m.containers[c]:null}return null},m.hasSplitbarBefore=function(a){var b=m.containers.indexOf(a);return b>=1?f.isSplitbar(m.containers[b-1]):!1},m.hasSplitbarAfter=function(a){var b=m.containers.indexOf(a);return b<m.containers.length-1?f.isSplitbar(m.containers[b+1]):!1},m.isLayoutElement=function(a){return a.hasAttribute("eui-layout-container")||a.hasAttribute("eui-splitbar")||"EUI-LAYOUT-CONTAINER"===a.nodeName},m.indexOfElement=function(a){for(var b=a.parent(),c=b.children(),d=0,e=0;e<c.length;e++){var f=c[e];if(m.isLayoutElement(f)){if(a[0]==c[e])return d;d++}}return-1},m}]).directive("euiLayout",["$window",function(a){return{restrict:"AE",controller:"euiLayoutCtrl",link:function(b,c,d,e){function f(){b.$evalAsync(function(){e.calculate()})}b.$watch(function(){return c[0][e.sizeProperties.offsetSize]},function(){e.calculate()}),angular.element(a).bind("resize",f),b.$on("$destroy",function(){angular.element(a).unbind("resize",f)})}}}]).directive("euiSplitbar",["LayoutContainer",function(a){var b=angular.element(document.body.parentElement);return{restrict:"EAC",require:"^euiLayout",scope:{},link:function(c,d,e,f){d.hasClass("stretch")||d.addClass("stretch"),d.hasClass("eui-splitbar")||d.addClass("eui-splitbar");var g=f.isUsingColumnFlow?"animate-column":"animate-row";d.addClass(g),c.splitbar=a.Splitbar(),c.splitbar.element=d;var h=angular.element(d.children()[0]),i=angular.element(d.children()[1]),j=angular.element(h.children()[0]),k=angular.element(i.children()[0]),l="eui-splitbar-icon-left",m="eui-splitbar-icon-right",n="eui-splitbar-icon-up",o="eui-splitbar-icon-down",p=f.isUsingColumnFlow?l:n,q=f.isUsingColumnFlow?m:o;j.addClass(p),k.addClass(q),h.on("click",function(){var a,b,d=f.toggleBefore(c.splitbar),e=f.getPreviousSplitbarContainer(c.splitbar);null!==e&&(a=angular.element(e.element.children()[0]),b=angular.element(e.element.children()[1])),f.isUsingColumnFlow?d?(i.css("display","none"),j.removeClass(l),j.addClass(m),null!==e&&(a.css("display","none"),b.css("display","none"))):(i.css("display","inline"),j.removeClass(m),j.addClass(l),null!==e&&(a.css("display","inline"),b.css("display","inline"))):d?(i.css("display","none"),j.removeClass(n),j.addClass(o),null!==e&&(a.css("display","none"),b.css("display","none"))):(i.css("display","inline"),j.removeClass(o),j.addClass(n),null!==e&&(a.css("display","inline"),b.css("display","inline"))),c.$evalAsync(function(){f.calculate()})}),i.on("click",function(){var a,b,d=f.toggleAfter(c.splitbar),e=f.getNextSplitbarContainer(c.splitbar);null!==e&&(a=angular.element(e.element.children()[0]),b=angular.element(e.element.children()[1])),f.isUsingColumnFlow?d?(h.css("display","none"),k.removeClass(m),k.addClass(l),null!==e&&(a.css("display","none"),b.css("display","none"))):(h.css("display","inline"),k.removeClass(l),k.addClass(m),null!==e&&(a.css("display","inline"),b.css("display","inline"))):d?(h.css("display","none"),k.removeClass(o),k.addClass(n),null!==e&&(a.css("display","none"),b.css("display","none"))):(h.css("display","inline"),k.removeClass(n),k.addClass(o),null!==e&&(a.css("display","inline"),b.css("display","inline"))),c.$evalAsync(function(){f.calculate()})}),d.on("mousedown touchstart",function(a){return f.movingSplitbar=c.splitbar,f.processSplitbar(c.splitbar),a.preventDefault(),a.stopPropagation(),b.on("mousemove touchmove",function(a){c.$apply(angular.bind(f,f.mouseMoveHandler,a))}),!1}),b.on("mouseup touchend",function(a){c.$apply(angular.bind(f,f.mouseUpHandler,a)),b.off("mousemove touchmove")}),c.$watch("splitbar.size",function(a){d.css(f.sizeProperties.sizeProperty,a+"px")}),c.$watch("splitbar."+f.sizeProperties.flowProperty,function(a){d.css(f.sizeProperties.flowProperty,a+"px")}),c.$on("$destroy",function(){b.off("mouseup touchend mousemove touchmove")}),f.addContainer(c.splitbar),d.on("$destroy",function(){f.removeContainer(c.splitbar),c.$evalAsync()})}}}]).directive("euiLayoutContainer",["LayoutContainer","$compile","$timeout","Layout",function(a,b,c,d){return{restrict:"AE",require:"^euiLayout",scope:{collapsed:"=",resizable:"=",size:"@",minSize:"@",maxSize:"@"},compile:function(){return{pre:function(b,c,e,f){b.container=a.Container(),b.container.element=c,b.container.id=c.attr("id")||null,b.container.layoutId=f.id,b.container.isCentral="central"===e.uiLayoutContainer,b.collapsed===!0&&(b.collapsed=!1,d.addCollapsed(b.container)),angular.isDefined(b.resizable)&&(b.container.resizable=b.resizable),b.container.size=b.size,b.container.uncollapsedSize=b.size,b.container.minSize=b.minSize,b.container.maxSize=b.maxSize,f.addContainer(b.container),c.on("$destroy",function(){f.removeContainer(b.container),b.$evalAsync()})},post:function(a,c,d,e){c.hasClass("stretch")||c.addClass("stretch"),c.hasClass("eui-layout-container")||c.addClass("eui-layout-container");var f=e.isUsingColumnFlow?"animate-column":"animate-row";c.addClass(f),a.$watch("collapsed",function(b,c){angular.isDefined(c)&&b!==c&&e.toggleContainer(a.container.index)}),a.$watch("container.size",function(a){c.css(e.sizeProperties.sizeProperty,a+"px"),0===a?c.addClass("eui-layout-hidden"):c.removeClass("eui-layout-hidden")}),a.$watch("container."+e.sizeProperties.flowProperty,function(a){c.css(e.sizeProperties.flowProperty,a+"px")});var g=c.parent(),h=g.children(),i=e.indexOfElement(c),j=angular.element('<div eui-splitbar><a><span class="eui-splitbar-icon"></span></a><a><span class="eui-splitbar-icon"></span></a></div>');i>0&&!e.hasSplitbarBefore(a.container)?(angular.element(h[i-1]).after(j),b(j)(a)):i<h.length-1&&(c.after(j),b(j)(a))}}}}}]).directive("euiLayoutLoaded",["$timeout","Layout","reqChannel",function(a,b,c){return{require:"^euiLayout",restrict:"A",priority:-100,link:function(a,d,e){e.euiLayoutLoaded?(a.$broadcast("eui.layout.loaded",e.euiLayoutLoaded),c.resizeElement()):b.toggle().then(function(){a.$broadcast("eui.layout.loaded",null),c.resizeElement()})}}}]).factory("Layout",["$q","$timeout",function(a,b){function c(a){try{d[a.layoutId].toggleContainer(a.index)}catch(b){throw b.message="Could not toggle container ["+a.layoutId+"/"+a.index+"]: "+b.message,b}}var d=[],e=[],f=0,g=null;return{addLayout:function(a){a.id=d.length,d.push(a)},addCollapsed:function(a){e.push(a)},hasCollapsed:function(){return e.length>0},toggled:function(){if(0===f){if(!g)return!1;g.reject()}f--,0===f&&g.resolve()},toggle:function(){g=a.defer(),f=e.length,0===f&&b(function(){g.resolve()}),e.reverse();for(var d;d=e.pop();)c(d);return g.promise}}}]).factory("LayoutContainer",function(){function a(){this.id=null,this.layoutId=null,this.isCentral=!1,this.size="auto",this.uncollapsedSize=null,this.maxSize=null,this.minSize=null,this.resizable=!0,this.element=null,this.collapsed=!1}function b(){this.size=10,this.left=0,this.top=0,this.element=null}return{Container:function(b){return new a(b)},Splitbar:function(){return new b},isSplitbar:function(a){return a instanceof b}}}),angular.module("eui.loadcontrols",[]).controller("LoadcontrolsController",["$scope","$attrs","$timeout","$http","$info",function(a,b,c,d,e){if(a.isShow=!1,a.isShowResult=1==a.showResult||"true"==a.showResult?!0:!1,a.showResult=!1,a.resultId=void 0==a.resultId?"loadcontrolsResult":a.loadcontrols,a.datasources="sssssssssssss",""==a.serviceName||void 0==a.serviceName)a.isShow=!0,a.showResult=!1;else{var f=e.loading("界面加载中......","温馨提示"),g=function(){var b={XT_RY:[{name:"张三",age:"23",sex:"男"},{name:"李四",age:"29",sex:"男"},{name:"王五",age:"27",sex:"男"},{name:"老六",age:"30",sex:"男"}],XT_ZZ:[{id:"12",name:"云南电网",sjid:"1"},{id:"13",name:"贵州电网",sjid:"1"},{id:"22",name:"昆明供电局",sjid:"12"},{id:"23",name:"曲靖供电局",sjid:"12"}]};"XTZC.RYGL.CXRY1"==a.serviceName?a.datasources="调用查询服务：XTZC.RYGL.CXRY，执行成功！":"XTZC.RYGL.CXRY2"==a.serviceName?a.datasources="调用查询服务：XTZC.RYGL.CXRY，执行成功！":a.datasources=b,a.isShow=!0,a.isShowResult&&(a.showResult=!0),e.hideMessageBox(f),c.cancel(),a.loaddata()};c(g,1500)}}]).directive("euiLoadcontrols",function(){return{restrict:"AE",controller:"LoadcontrolsController",templateUrl:"template/loadcontrols/loadcontrols.html",transclude:!0,replace:!0,scope:{resultId:"@",showResult:"@",serviceName:"@",datasources:"=?",loaddata:"&"},link:function(a,b,c){}}}),angular.module("eui.menuitem",[]).directive("euiMenuitem",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/menus/menuitem.html"},replace:!0,transclude:!0,scope:{iconCls:"@",enabled:"@"},link:function(a,b,c){var d=function(){a.enabled===!1||"false"===a.enabled?a.enabled=!1:a.enabled=!0,a.enabled?$(b).find(".eui-menuitem-inner").hasClass("eui-menu-disabled")&&$(b).find(".eui-menuitem-inner").removeClass("eui-menu-disabled"):$(b).find(".eui-menuitem-inner").hasClass("eui-menu-disabled")||$(b).find(".eui-menuitem-inner").addClass("eui-menu-disabled")};c.iconCls&&$(b).find(".eui-menuitem-icon").addClass(c.iconCls),d(),a.$watch("enabled",d,!0),a.mouseleave=function(){a.enabled&&$(b).hasClass("eui-menuitem-hover")&&$(b).removeClass("eui-menuitem-hover")},a.mouseover=function(){a.enabled&&($(b).hasClass("eui-menuitem-hover")||$(b).addClass("eui-menuitem-hover"))}}}}]),angular.module("eui.menus",["eui.menuitem","eui.button"]).directive("euiMenus",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/menus/menus.html"},replace:!0,transclude:!0,scope:{iconCls:"@",titleName:"@",plain:"@",enabled:"@"},link:function(a,b,c){var d=function(){a.enabled===!1||"false"===a.enabled?a.enabled=!1:a.enabled=!0};a.$watch("enabled",d,!0),$(document).bind("click",function(a){"block"===$(b).children().eq(1).css("display")&&$(b).children().eq(1).css("display","none")}),a.mouseleave=function(){"none"!==$(b).children().eq(1).css("display")&&$(b).children().eq(1).css("display","none")},a.mouseover=function(c){return a.enabled?void("none"===$(b).children().eq(1).css("display")&&$(b).children().eq(1).css("display","block")):void c.preventDefault()}}}}]).directive("euiMenusIcon",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/menus/menusIcon.html"},replace:!0,transclude:!0,scope:{options:"="},link:function(a,b,c){function d(){a.options&&a.options.mesAmount?a.options.mesShow=!0:a.options.mesShow=!1}function e(){d()}var f={imageClass:"mainImage",mesShow:!1,mesAmount:0,menusText:"我的菜单",onClick:function(){}};d(),a.$watch("options",e,!0),a.options=$.extend(f,a.options)}}}]),angular.module("eui.messageBox",[]).controller("InfoCtrl",["$scope","$euiModalInstance","items","$timeout",function(a,b,c,d){a.message=c.message,c.type&&(a.type=c.type),angular.isDefined(c.timeout)&&d(function(){b.close({})},parseInt(c.timeout,10)),a.showFooter=angular.isDefined(c.showFooter)?c.showFooter:!0,a.showClose=angular.isDefined(c.showClose)?c.showClose:!0,a.showNo=angular.isDefined(c.showNo)?c.showNo:!1,angular.isDefined(c.showInput)&&c.showInput&&(a.showInput=!0),a.ok=function(){var c={};a.dataInput&&(c.dataInput=a.dataInput),b.close(c)},a.no=function(){b.close({no:!0})},a.cancel=function(){b.dismiss("cancel")}}]).factory("$info",["$euiModal","$compile","$rootScope","$document",function(a,b,c,d){var e={alert:function(b,c){var d="280";if(void 0!==b.width&&(d=b.width),void 0==b.type&&(b.type="none"),"string"==typeof b&&(b={message:b}),b.title)var e=b.title;else var e="提醒";var f=a.open({showModal:b.showModal,templateUrl:"template/messageBox/alertContent.html",controller:"InfoCtrl",title:e,backdropClass:b.backdropClass,size:"width:"+d+"px",position:b.posX+"-"+b.posY,resolve:{items:function(){return b}}});return f.result.then(function(a){c&&c(),a&&a.cb&&a.cb()},function(){}),f},confirm:function(b,c,d){var e="280";void 0!==b.width&&(e=b.width),"string"==typeof b&&(b={message:b}),void 0==b.type?b.type="ask":b.type="none";var f=a.open({templateUrl:"template/messageBox/confirmContent.html",controller:"InfoCtrl",title:c,size:"width:"+e+"px",resolve:{items:function(){return b}}});f.result.then(function(a){a&&a.no?d("no"):d("ok",a.dataInput)},function(){d("cancel")})},confirmYN:function(a,b,c){var b=a.title,c=a.callback;a.showNo=!0,this.confirm(a,b,c)},prompt:function(a,b,c){var a={type:"none",showInput:!0,message:a,title:b,width:"370"};this.confirm(a,b,c)},showMessageBox:function(a,b){a.showFooter=!1,this.alert(a,b)},loading:function(a,b){var c={type:"loading",showFooter:!1,showClose:!1,message:a,title:b};return this.alert(c)},hideMessageBox:function(a,b){b?a.close({cb:b}):a.close({})}};return e}]),angular.module("eui.pagination",[]).controller("EuiPaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("euiPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("euiPagination",["$parse","euiPaginationConfig",function(a,b){return{restrict:"EA",scope:{options:"="},templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(a,b,c){function d(){i=$.extend({},defaultsPagination,i,a.options),a.options=i;var b,c,d,e,f={};b={pageSize:""+i.pageSize,list:[]};for(var g=0;g<i.pageList.length;g++)b.list.push({name:""+i.pageList[g]});if(e=Math.ceil(i.total/i.pageSize),i.pageNumber<1||i.pageSize<1)throw"pageNumber或者pageSize数值不能小于1，请输入正确的值";c=i.pageNumber>e?(i.totalPage-1)*i.pageSize+1:(i.pageNumber-1)*i.pageSize+1,d=i.pageNumber*i.pageSize>i.total?i.total:i.pageNumber*i.pageSize,f={pageNumber:i.pageNumber,totalPage:e,from:c,to:d,total:i.total},a.pageList=b,a.pageData=f,h()}function e(){a.options.pageSize=parseInt(a.pageList.pageSize),a.pageData.pageNumber=1,a.options.pageNumber=a.pageData.pageNumber,i.onSelectPage(a.pageData.pageNumber,i.pageSize)}function f(a){a.addClass("l-btn-disabled")}function g(a){a.hasClass("l-btn-disabled")&&a.removeClass("l-btn-disabled")}function h(){g(j.first),g(j.prev),g(j.next),g(j.last),1===a.pageData.pageNumber&&(f(j.first),f(j.prev)),a.pageData.pageNumber===a.pageData.totalPage&&(f(j.next),f(j.last))}var i={};defaultsPagination={total:1,pageSize:10,pageNumber:1,pageList:[10,20,30,50],style:{width:"100%"},onSelectPage:function(a,b){}};var j={first:$(b).find("tr").children().eq(2).find("a"),prev:$(b).find("tr").children().eq(3).find("a"),next:$(b).find("tr").children().eq(-4).find("a"),last:$(b).find("tr").children().eq(-3).find("a")};d(),a.$watch("options",d,!0),a.$watch("pageList.pageSize",e,!0),a.selectFirstPage=function(){1!==a.pageData.pageNumber&&(a.pageData.pageNumber=1),a.pageData.total>=1?a.pageData.from=1:a.pageData.from=0,a.pageData.total>=i.pageSize?a.pageData.to=i.pageSize:a.pageData.to=a.pageData.total,h(),a.options.pageNumber=a.pageData.pageNumber,i.onSelectPage(a.pageData.pageNumber,i.pageSize)},a.selectPreviousPage=function(){a.pageData.pageNumber=parseInt(a.pageData.pageNumber),a.pageData.pageNumber>1?(a.pageData.pageNumber-=1,a.pageData.from-=i.pageSize,a.pageData.to-=i.pageSize,h()):a.selectFirstPage(),a.options.pageNumber=a.pageData.pageNumber,i.onSelectPage(a.pageData.pageNumber,i.pageSize)},a.selectNextPage=function(){var b;b=a.pageData.to+i.pageSize,a.pageData.pageNumber=parseInt(a.pageData.pageNumber),a.pageData.pageNumber<a.pageData.totalPage?(a.pageData.pageNumber+=1,a.pageData.from+=i.pageSize,b>a.pageData.total?a.pageData.to=a.pageData.total:a.pageData.to=b,h()):a.selectLastPage(),a.options.pageNumber=a.pageData.pageNumber,i.onSelectPage(a.pageData.pageNumber,i.pageSize)},a.selectLastPage=function(){a.pageData.pageNumber=parseInt(a.pageData.pageNumber),a.pageData.pageNumber!==a.pageData.totalPage&&(a.pageData.pageNumber=a.pageData.totalPage,a.pageData.from=(a.pageData.totalPage-1)*i.pageSize+1,a.pageData.to=a.pageData.total,h()),a.options.pageNumber=a.pageData.pageNumber,i.onSelectPage(a.pageData.pageNumber,i.pageSize)},a.refresh=function(){var b;if(a.pageData.pageNumber=parseInt(a.pageData.pageNumber),a.pageData.pageNumber<1||a.pageData.pageNumber>a.pageData.totalPage)throw"请输入正确的pageNumber值";a.pageData.from=(a.pageData.pageNumber-1)*i.pageSize+1,b=a.pageData.pageNumber*i.pageSize,b>a.pageData.total?a.pageData.to=a.pageData.total:a.pageData.to=b,h(),a.options.pageNumber=a.pageData.pageNumber,i.onSelectPage(a.pageData.pageNumber,i.pageSize)},a.keydown=function(b){b&&13==b.keyCode&&a.refresh()}}}}]).constant("euiPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("euiPager",["euiPagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["euiPager","?ngModel"],controller:"EuiPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("eui.panel",[]).directive("euiPanel",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/panel/panel.html"},replace:!0,transclude:!0,scope:{panelTitle:"@",panelFoot:"@",iconCls:"@",openPanel:"&",closePanel:"&",onbuttonclick:"="},compile:function(a,b,c){return function(a,b,d){a.width=d.width?d.width:"700px",a.height=d.height?d.height:"250px",a.overflow=d.overflow?d.overflow:"auto",b.find(".eui-panel-body").append(c(a.$parent));var e,f,g=[];f=["collapse","max","add","edit","close","remove","apart"],e={collapse:!1,max:!1,add:!1,edit:!1,close:!1,remove:!1,apart:!1},d.buttons&&(g=d.buttons.split(" ")),g.forEach(function(a){-1!==f.indexOf(a)&&(e[a]=!0)}),a.icon=e,a.iconCls&&$(b).find(".eui-panel-title").children().eq(0).addClass("eui-panel-button-icon").addClass(a.iconCls),a.collapsePanel=function(){"block"===$(b).children().eq(1).css("display")?($(b).children().eq(1).css("display","none"),$(b).find(".eui-tools-collapse").addClass("eui-tools-expand").removeClass("eui-tools-collapse"),$(b).find(".eui-tools-expand")[0].title="展开"):($(b).children().eq(1).css("display","block"),$(b).find(".eui-tools-expand").addClass("eui-tools-collapse").removeClass("eui-tools-expand"),$(b).find(".eui-tools-collapse")[0].title="缩小")},a.changeSizePanel=function(){if($(b).find(".eui-tools-max").length>0){$(b).find(".eui-tools-max").addClass("eui-tools-restore").removeClass("eui-tools-max"),$(".eui-panel").css("width","100%");var c=$(b)[0].parentElement.parentElement.offsetHeight-80;$(".eui-panel-body").css("height",c+"px"),$(b).find(".eui-tools-restore")[0].title="恢复"}else $(b).find(".eui-tools-restore").addClass("eui-tools-max").removeClass("eui-tools-restore"),$(".eui-panel").css("width",a.width),$(".eui-panel-body").css("height",a.height),$(b).find(".eui-tools-max")[0].title="最大化"},a.openPanel=function(){$(b).css("display","block")},a.closePanel=function(){$(b).css("display","none")},d.panelFoot&&$(".eui-panel-footer").css("padding","5px 0 5px 10px")}}}}]),angular.module("eui.tooltip",["eui.position","eui.stackedMap"]).provider("$euiTooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$euiPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){var n=m.createNew();return h.on("keypress",function(a){if(27===a.which){var b=n.top();b&&(b.value.close(),n.removeTop(),b=null)}}),function(e,k,m,o){function p(a){var b=(a||o.trigger||m).split(" "),d=b.map(function(a){return c[a]||a;
});return{show:b,hide:d}}o=angular.extend({},b,d,o);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup title="'+r+"title"+s+'" '+(o.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){L.isOpen?q():m()}function m(){(!K||a.$eval(d[k+"Enable"]))&&(u(),x(),L.popupDelay?F||(F=g(r,L.popupDelay,!1)):r())}function q(){s(),L.popupCloseDelay?G||(G=g(t,L.popupCloseDelay,!1)):t()}function r(){return s(),u(),L.content?(v(),void L.$evalAsync(function(){L.isOpen=!0,y(!0),Q()})):angular.noop}function s(){F&&(g.cancel(F),F=null),H&&(g.cancel(H),H=null)}function t(){s(),u(),L&&L.$evalAsync(function(){L.isOpen=!1,y(!1),L.animation?E||(E=g(w,150,!1)):w()})}function u(){G&&(g.cancel(G),G=null),E&&(g.cancel(E),E=null)}function v(){C||(D=L.$new(),C=c(D,function(a){I?h.find("body").append(a):b.after(a)}),z())}function w(){A(),E=null,C&&(C.remove(),C=null),D&&(D.$destroy(),D=null)}function x(){L.title=d[k+"Title"],O?L.content=O(a):L.content=d[e],L.popupClass=d[k+"Class"],L.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:o.placement;var b=parseInt(d[k+"PopupDelay"],10),c=parseInt(d[k+"PopupCloseDelay"],10);L.popupDelay=isNaN(b)?o.popupDelay:b,L.popupCloseDelay=isNaN(c)?o.popupCloseDelay:c}function y(b){N&&angular.isFunction(N.assign)&&N.assign(a,b)}function z(){P.length=0,O?(P.push(a.$watch(O,function(a){L.content=a,!a&&L.isOpen&&t()})),P.push(D.$watch(function(){M||(M=!0,D.$$postDigest(function(){M=!1,L&&L.isOpen&&Q()}))}))):P.push(d.$observe(e,function(a){L.content=a,!a&&L.isOpen?t():Q()})),P.push(d.$observe(k+"Title",function(a){L.title=a,L.isOpen&&Q()})),P.push(d.$observe(k+"Placement",function(a){L.placement=a?a:o.placement,L.isOpen&&Q()}))}function A(){P.length&&(angular.forEach(P,function(a){a()}),P.length=0)}function B(){var a=d[k+"Trigger"];R(),J=p(a),"none"!==J.show&&J.show.forEach(function(a,c){a===J.hide[c]?b[0].addEventListener(a,j):a&&(b[0].addEventListener(a,m),J.hide[c].split(" ").forEach(function(a){b[0].addEventListener(a,q)})),b.on("keypress",function(a){27===a.which&&q()})})}var C,D,E,F,G,H,I=angular.isDefined(o.appendToBody)?o.appendToBody:!1,J=p(void 0),K=angular.isDefined(d[k+"Enable"]),L=a.$new(!0),M=!1,N=angular.isDefined(d[k+"IsOpen"])?l(d[k+"IsOpen"]):!1,O=o.useContentExp?l(d[e]):!1,P=[],Q=function(){C&&C.html()&&(H||(H=g(function(){C.css({top:0,left:0});var a=i.positionElements(b,C,L.placement,I);a.top+="px",a.left+="px",a.visibility="visible",C.css(a),H=null},0,!1)))};L.origScope=a,L.isOpen=!1,n.add(L,{close:t}),L.contentExp=function(){return L.content},d.$observe("disabled",function(a){a&&s(),a&&L.isOpen&&t()}),N&&a.$watch(N,function(a){!a===L.isOpen&&j()});var R=function(){J.show.forEach(function(a){b.unbind(a,m)}),J.hide.forEach(function(a){a.split(" ").forEach(function(a){b[0].removeEventListener(a,q)})})};B();var S=a.$eval(d[k+"Animation"]);L.animation=angular.isDefined(S)?!!S:o.animation;var T=a.$eval(d[k+"AppendToBody"]);I=angular.isDefined(T)?T:I,I&&a.$on("$locationChangeSuccess",function(){L.isOpen&&t()}),a.$on("$destroy",function(){s(),u(),R(),w(),n.remove(L),L=null})}}}}}]}).directive("euiTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.euiTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("euiTooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("euiTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("euiTooltip",["$euiTooltip",function(a){return a("euiTooltip","tooltip","mouseenter")}]).directive("euiTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("euiTooltipTemplate",["$euiTooltip",function(a){return a("euiTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("euiTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("euiTooltipHtml",["$euiTooltip",function(a){return a("euiTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("eui.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$euiTooltipProvider",function(a){angular.extend(this,a),this.$get=["$log","$tooltipSuppressWarning","$injector",function(b,c,d){return c||b.warn("$tooltip is now deprecated. Use $euiTooltip instead."),d.invoke(a.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(a,b,c,d,e,f){return{link:function(g,h,i){f||e.warn("tooltip-template-transclude is now deprecated. Use eui-tooltip-template-transclude instead.");var j,k,l,m=g.$eval(i.tooltipTemplateTranscludeScope),n=0,o=function(){k&&(k.remove(),k=null),j&&(j.$destroy(),j=null),l&&(a.leave(l).then(function(){k=null}),k=l,l=null)};g.$watch(b.parseAsResourceUrl(i.tooltipTemplateTransclude),function(b){var e=++n;b?(d(b,!0).then(function(d){if(e===n){var f=m.$new(),g=d,i=c(g)(f,function(b){o(),a.enter(b,h)});j=f,l=i,j.$emit("$includeContentLoaded",b)}},function(){e===n&&(o(),g.$emit("$includeContentError",b))}),g.$emit("$includeContentRequested",b)):o()}),g.$on("$destroy",o)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(a,b){return{restrict:"A",link:function(c,d,e){b||a.warn("tooltip-classes is now deprecated. Use eui-tooltip-classes instead."),c.placement&&d.addClass(c.placement),c.popupClass&&d.addClass(c.popupClass),c.animation()&&d.addClass(e.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(c,d){b||a.warn("tooltip-popup is now deprecated. Use eui-tooltip-popup instead."),d.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(c,d){b||a.warn("tooltip-template-popup is now deprecated. Use eui-tooltip-template-popup instead."),d.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(c,d){b||a.warn("tooltip-html-popup is now deprecated. Use eui-tooltip-html-popup instead."),d.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("eui.popover",["eui.tooltip"]).directive("euiPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(a,b){b.addClass("popover")}}}).directive("euiPopoverTemplate",["$euiTooltip",function(a){return a("euiPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("euiPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(a,b){b.addClass("popover")}}}).directive("euiPopoverHtml",["$euiTooltip",function(a){return a("euiPopoverHtml","popover","click",{useContentExp:!0})}]).directive("euiPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(a,b){b.addClass("popover")}}}).directive("euiPopover",["$euiTooltip",function(a){return a("euiPopover","popover","click")}]),angular.module("eui.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(c,d){b||a.warn("popover-template-popup is now deprecated. Use eui-popover-template-popup instead."),d.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(c,d){b||a.warn("popover-html-popup is now deprecated. Use eui-popover-html-popup instead."),d.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(a){return a("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(c,d){b||a.warn("popover-popup is now deprecated. Use eui-popover-popup instead."),d.addClass("popover")}}}]).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("eui.progressbar",[]).constant("euiProgressConfig",{animate:!0,max:100}).controller("EuiProgressController",["$scope","$attrs","euiProgressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c,f){e||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.title=f&&angular.isDefined(f.title)?f.title:"progressbar",b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){var a=d.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("max",function(b){d.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("euiProgress",function(){return{replace:!0,transclude:!0,controller:"EuiProgressController",require:"euiProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("euiBar",function(){return{replace:!0,transclude:!0,require:"^euiProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("euiProgressbar",function(){return{replace:!0,transclude:!0,controller:"EuiProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("eui.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","euiProgressConfig","$log","$progressSuppressWarning",function(a,b,c,d,e){e||d.warn("ProgressController is now deprecated. Use EuiProgressController instead.");var f=this,g=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c,d){g||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.title=d&&angular.isDefined(d.title)?d.title:"progressbar",b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){b.percent=+(100*b.value/b.max).toFixed(2);var a=f.bars.reduce(function(a,b){return a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,f.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)},a.$watch("max",function(b){f.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){b||a.warn("progress is now deprecated. Use eui-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(c,d,e,f){b||a.warn("bar is now deprecated. Use eui-bar instead."),f.addBar(c,d)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(c,d,e,f){b||a.warn("progressbar is now deprecated. Use eui-progressbar instead."),f.addBar(c,angular.element(d.children()[0]),{title:e.title})}}}]),angular.module("eui.radio",[]).directive("euiRadio",["$timeout",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/radio/radio.html"},replace:!0,scope:{radioData:"=",checkedData:"=",width:"@",height:"@"},link:function(a,b,c){function d(){var a,b=32,c=16,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(c=c||d.length,b)for(a=0;b>a;a++)e[a]=d[0|Math.random()*c];else{var f;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",a=0;36>a;a++)e[a]||(f=0|16*Math.random(),e[a]=d[19==a?3&f|8:f])}return e.join("")}var e,f,g,h=[],i=["left","right"];e=a.width?a.width:"170px",f=a.height?a.height:"100px",g=c.labelPosition?c.labelPosition:"right","-1"===i.indexOf(g)&&(g="right"),a.styletype="eui-radio","right"==g&&(a.styletype="eui-radio-r");var j=d();a.rdName=j;for(var k="",l=0;l<a.radioData.length;l++){var j=d(),m={uuid:j,rlabel:"",llabel:"",label:"",value:"",disabled:"",checked:"",model:"",show:!0};"right"===g?m.rlabel=a.radioData[l].label:m.llabel=a.radioData[l].label,m.label=a.radioData[l].label,m.value=a.radioData[l].value,m.disabled=a.radioData[l].disabled,m.checked=a.radioData[l].checked?a.radioData[l].checked:!1,("false"==a.radioData[l].show||0==a.radioData[l].show)&&(m.show=!1),("true"==a.radioData[l].checked||1==a.radioData[l].checked)&&(m.model=a.radioData[l].value),h.push(m)}a.rdModel=k,a.data=h,a.radioStyle={width:e,height:f},a.onChangeRow=function(){a.checkedData=[this.row]};var n=function(){a.checkedData=[];for(var b=0;b<h.length;b++)h[b].checked&&a.checkedData.push(h[b])};a.$watch("scope.data",n,!0)}}}]),angular.module("eui.rating",[]).constant("euiRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("EuiRatingController",["$scope","$attrs","euiRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("euiRating",function(){return{require:["euiRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"EuiRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("eui.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(a,b,c,d,e){e||d.warn("RatingController is now deprecated. Use EuiRatingController instead."),angular.extend(this,c("EuiRatingController",{$scope:a,$attrs:b}))}]).directive("rating",["$log","$ratingSuppressWarning",function(a,b){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(c,d,e,f){b||a.warn("rating is now deprecated. Use eui-rating instead.");var g=f[0],h=f[1];g.init(h)}}}]);var app=angular.module("eui.rightMenu",[]);app.directive("euiRightMenu",["$window",function(a){return{restrict:"A",link:function(b,c,d){function e(a){a.css("display","none")}var f=document.getElementById(d.menuTarget);if(null!=f){var g=angular.element(f);g.css("display","none"),b.open=function(a,b){b.css("display","block"),b.css("top",a.clientY+10+"px"),b.css("left",a.clientX+15+"px")},c.bind("contextmenu",function(a){b.$apply(function(){a.preventDefault(),b.open(a,g)})}),b.menuEvent=function(a){a.onclick(a)},angular.element(a).bind("click",function(a){b.$apply(function(){a.preventDefault(),e(g)})})}}}}]),angular.module("eui.scrollbar",[]).directive("euiScrollbar",["$timeout","$window",function(a,b){return{templateUrl:function(a,b){return b.templateUrl||"template/scrollbar/scrollbar.html"},transclude:!0,replace:!0,scope:{moveHeight:"@",otherHeight:"="},link:function(c,d,e,f){var g=0,h=angular.isDefined(c.moveHeight)?c.$eval(c.moveHeight):100,i=d.find("div").eq(1);a(function(){c.$watch("otherHeight",function(){g=+c.otherHeight,j()})}),b.onresize=function(){c.$apply(function(){j()})};var j=function(){var a=b.innerHeight-g;i&&i.css({height:a+"px"})};c.moreup=function(a){if(a.preventDefault(),a.stopPropagation(),i){var b,c=h,d=100,e=function(){d-=10,doMove(c/10),0>=d&&clearInterval(b)};doMove=function(a){i[0].scrollTop=i[0].scrollTop-a},b=setInterval(e,10)}},c.moredown=function(a){if(a.preventDefault(),a.stopPropagation(),i){var b,c=h,d=100,e=function(){d-=10,doMove(c/10),0>=d&&clearInterval(b)};doMove=function(a){i[0].scrollTop=i[0].scrollTop+a},b=setInterval(e,10)}}}}}]),angular.module("eui.scrolltabset",[]).controller("ScrolltabsetController",["$scope","$animate","$injector","$interval",function(a,b,c,d){var e=this,f=e.tabs=a.tabs=[];e.select=function(a){angular.forEach(f,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect(),a.selectCalled=!1)}),a.active=!0,a.selectCalled||(a.onSelect(),a.selectCalled=!0)},e.addTab=function(a){f.push(a),1===f.length&&a.active!==!1?a.active=!0:a.active?e.select(a):a.active=!1},e.removeTab=function(a){var b=f.indexOf(a);if(a.active&&f.length>1&&!g){var c=b==f.length-1?b-1:b+1;e.select(f[c])}f.splice(b,1)},e.close=function(a){a.onClose()};var g;a.$on("$destroy",function(){g=!0});var h=angular.isDefined(a.moveWidth)?a.$eval(a.moveWidth):260;a.moreleft=function(){if(e.scrollArea){var a,b=h,c=100,f=function(){c-=10,doMove(b/10),0>=c&&d.cancel(a)};doMove=function(a){e.scrollArea[0].scrollLeft=e.scrollArea[0].scrollLeft-a},a=d(f,10)}},a.moreright=function(){if(e.scrollArea){var a,b=h,c=100,f=function(){c-=10,doMove(b/10),0>=c&&d.cancel(a)};doMove=function(a){e.scrollArea[0].scrollLeft=e.scrollArea[0].scrollLeft+a},a=d(f,10)}}}]).directive("euiScrollTabset",["$timeout",function(a){return{restrict:"EA",transclude:!0,replace:!0,scope:{istabs:"=?",type:"@",moveWidth:"@",otherWidth:"="},controller:"ScrolltabsetController",templateUrl:"template/scrolltabset/scrolltabset.html",link:function(b,c,d,e){b.vertical=angular.isDefined(d.vertical)?b.$parent.$eval(d.vertical):!1,b.justified=angular.isDefined(d.justified)?b.$parent.$eval(d.justified):!1;var f=angular.isDefined(b.otherWidth)?b.otherWidth:100;b.istabs=b.istabs===!1||"false"===b.istabs?!1:!0;var g=c.find("ul");e.scrollArea=g.parent(),a(function(){b.$watchCollection("tabs",function(){var a=20;if(g.length){for(var b=0;b<g[0].children.length;b++)a+=g[0].children[b].clientWidth;g.css({width:a+"px"})}else g.css({width:"auto"});var d=c.parent()[0],h=d.offsetWidth-f;e.scrollArea&&e.scrollArea.css({width:h+"px"})})})}}}]).directive("euiScrollTab",["$parse",function(a){return{require:"^euiScrollTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onClose:"&close",onDeselect:"&deselect"},controller:function(){},link:function(b,c,d,e,f){b.$watch("active",function(a){a&&e.select(b)}),b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},b.closeable=!!d.close,b.close=function(a){e.close(b)},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("scrollTabHeadingTransclude",function(){return{restrict:"A",require:["?^euiScrollTab","?^tab"],link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("scrollTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||a.hasAttribute("scroll-tab-heading")||a.hasAttribute("data-scroll-tab-heading")||a.hasAttribute("x-scroll-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase()||"scroll-tab-heading"===a.tagName.toLowerCase()||"data-scroll-tab-heading"===a.tagName.toLowerCase()||"x-scroll-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:["?^euiScrollTabset","?^tabset"],link:function(b,c,d){var e=b.$eval(d.scrollTabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("eui.service",[]).factory("reqChannel",["$rootScope",function(a){var b="_RESIZE_",c=function(){a.$broadcast(b,{args:arguments})},d=function(a,c){a.$on(b,function(a,b){c(b)})};return{resizeElement:c,onResizeElement:d}}]),angular.module("eui.tabs",[]).controller("EuiTabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect(),a.selectCalled=!1)}),a.active=!0,a.selectCalled||(a.onSelect(),a.selectCalled=!0)},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)},b.close=function(a){a.onClose()};var d;a.$on("$destroy",function(){d=!0})}]).directive("euiTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"EuiTabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("euiTab",["$parse",function(a){return{require:"^euiTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onClose:"&close",onDeselect:"&deselect"},controller:function(){},link:function(b,c,d,e,f){b.$watch("active",function(a){a&&e.select(b)}),b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.closeable=!!d.close,b.close=function(a){b.disabled||e.close(b)},b.$transcludeFn=f}}}]).directive("euiTabHeadingTransclude",function(){return{restrict:"A",require:["?^euiTab","?^tab"],link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("euiTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||a.hasAttribute("eui-tab-heading")||a.hasAttribute("data-eui-tab-heading")||a.hasAttribute("x-eui-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase()||"eui-tab-heading"===a.tagName.toLowerCase()||"data-eui-tab-heading"===a.tagName.toLowerCase()||"x-eui-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:["?^euiTabset","?^tabset"],link:function(b,c,d){var e=b.$eval(d.euiTabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("eui.timepicker",[]).constant("euiTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("EuiTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","euiTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===r[1]&&(b+=12)),b):void 0}function i(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function j(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function k(a){l(),q.$setViewValue(new Date(p)),m(a)}function l(){q.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function m(b){var c=p.getHours(),d=p.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:j(c),"m"!==b&&(a.minutes=j(d)),a.meridian=p.getHours()<12?r[0]:r[1]}function n(a,b){var c=new Date(a.getTime()+6e4*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes()),d}function o(a){p=n(p,a),k()}var p=new Date,q={$setViewValue:angular.noop},r=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){q=b,q.$render=this.render,q.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;h&&this.setupMousewheelEvents(e,f);var i=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;i&&this.setupArrowkeyEvents(e,f),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f)};var s=g.hourStep;c.hourStep&&a.$parent.$watch(d(c.hourStep),function(a){s=parseInt(a,10)});var t=g.minuteStep;c.minuteStep&&a.$parent.$watch(d(c.minuteStep),function(a){t=parseInt(a,10)});var u;a.$parent.$watch(d(c.min),function(a){var b=new Date(a);u=isNaN(b)?void 0:b});var v;a.$parent.$watch(d(c.max),function(a){var b=new Date(a);v=isNaN(b)?void 0:b}),a.noIncrementHours=function(){var a=n(p,60*s);return a>v||p>a&&u>a},a.noDecrementHours=function(){var a=n(p,60*-s);return u>a||a>p&&a>v},a.noIncrementMinutes=function(){var a=n(p,t);return a>v||p>a&&u>a},a.noDecrementMinutes=function(){var a=n(p,-t);return u>a||a>p&&a>v},a.noToggleMeridian=function(){return p.getHours()<13?n(p,720)>v:n(p,-720)<u},a.showMeridian=g.showMeridian,c.showMeridian&&a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,q.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(p.setHours(c),k())}else m()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){q.$setViewValue(null),q.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=h(),b=i();angular.isDefined(a)&&angular.isDefined(b)?(p.setHours(a),u>p||p>v?d(!0):k("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=j(a.hours)})}),a.updateMinutes=function(){var a=i(),b=h();angular.isDefined(a)&&angular.isDefined(b)?(p.setMinutes(a),u>p||p>v?d(void 0,!0):k("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=j(a.minutes)})})},this.render=function(){var b=q.$viewValue;isNaN(b)?(q.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(p=b),u>p||p>v?(q.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):l(),m())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*s)},a.decrementHours=function(){a.noDecrementHours()||o(60*-s)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(t)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(-t)},a.toggleMeridian=function(){a.noToggleMeridian()||o(720*(p.getHours()<12?1:-1))}}]).directive("euiTimepicker",function(){return{restrict:"EA",require:["euiTimepicker","?^ngModel"],controller:"EuiTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("eui.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(a,b,c,d,e,f){
f||e.warn("TimepickerController is now deprecated. Use EuiTimepickerController instead."),angular.extend(this,d("EuiTimepickerController",{$scope:a,$element:b,$attrs:c}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(a,b){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(c,d,e,f){b||a.warn("timepicker is now deprecated. Use eui-timepicker instead.");var g=f[0],h=f[1];h&&g.init(h,d.find("input"))}}}]),angular.module("eui.timespinner",[]).constant("euiTimeSpinnerConfig",{hourStep:1,minuteStep:1,showMeridian:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimeSpinnerController",["$scope","$element","$attrs","$parse","$log","$locale","euiTimeSpinnerConfig",function(a,b,c,d,e,f,g){function h(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===s[1]&&(b+=12)),b):0>b?0:b>23?23:void 0}function i(){var b=parseInt(a.minutes,10),c=b>=0&&60>b?!0:!1;return c?b:0>b?0:b>59?59:void 0}function j(){var b=parseInt(a.seconds,10),c=b>=0&&60>b?!0:!1;return c?b:0>b?0:b>59?59:b}function k(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function l(a){m(),r.$setViewValue(new Date(q)),n(a)}function m(){r.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){var c=q.getHours(),d=q.getMinutes(),e=q.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c),a.minutes="m"===b?d:k(d),a.seconds="s"===b?e:k(e),a.meridian=q.getHours()<12?s[0]:s[1]}function o(a,b){var c=new Date(a.getTime()+6e4*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes()),d}function p(a){q=o(q,a),l()}var q=new Date,r={$setViewValue:angular.noop},s=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){r=b,r.$render=this.render,r.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2),i=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;i&&this.setupMousewheelEvents(e,f,h);var j=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;j&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var t=g.hourStep;c.hourStep&&a.$parent.$watch(d(c.hourStep),function(a){t=parseInt(a,10)});var u=g.minuteStep;c.minuteStep&&a.$parent.$watch(d(c.minuteStep),function(a){u=parseInt(a,10)});var v;a.$parent.$watch(d(c.min),function(a){var b=new Date(a);v=isNaN(b)?void 0:b});var w;a.$parent.$watch(d(c.max),function(a){var b=new Date(a);w=isNaN(b)?void 0:b}),a.noIncrementHours=function(){var a=o(q,60*t);return a>w||q>a&&v>a},a.noDecrementHours=function(){var a=o(q,60*-t);return v>a||a>q&&a>w},a.noIncrementMinutes=function(){var a=o(q,u);return a>w||q>a&&v>a},a.noDecrementMinutes=function(){var a=o(q,-u);return v>a||a>q&&a>w},a.noToggleMeridian=function(){return q.getHours()<13?o(q,720)>w:o(q,-720)<v},a.showMeridian=g.showMeridian,c.showMeridian&&a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,r.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(q.setHours(c),l())}else n()}),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.bind("mousewheel wheel",function(b){a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())}),d.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply())})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){r.$setViewValue(null),r.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c),angular.isDefined(d)&&(a.invalidSeconds=d)};a.updateHours=function(){var a=h(),b=i(),c=j();angular.isDefined(a)&&angular.isDefined(b)&&angular.isDefined(c)?(q.setHours(a),v>q||q>w?e(!0):l("h")):e(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours)})}),b.bind("focus",function(b){a.focusInput="h"}),a.updateMinutes=function(){var a=i(),b=h();angular.isDefined(a)&&angular.isDefined(b)?(q.setMinutes(a),v>q||q>w?e(void 0,!0):l("m")):e(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.focusInput="m",c.bind("focus",function(b){a.focusInput="m"}),a.updateSeconds=function(){var a=j(),b=i(),c=h();angular.isDefined(a)&&angular.isDefined(b)&&angular.isDefined(c)?(q.setSeconds(a),v>q||q>w?e(void 0,void 0,!0):l("s")):e(void 0,void 0,!0)},d.bind("blur",function(b){!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})}),d.bind("focus",function(b){a.focusInput="s"})},this.render=function(){var b=r.$viewValue;isNaN(b)?(r.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(q=b),v>q||q>w?(r.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0,a.invalidSeconds=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||p(60*t)},a.decrementHours=function(){a.noDecrementHours()||p(60*-t)},a.incrementMinutes=function(){a.noIncrementMinutes()||p(u)},a.decrementMinutes=function(){a.noDecrementMinutes()||p(-u)},a.toggleMeridian=function(){a.noToggleMeridian()||p(720*(q.getHours()<12?1:-1))},a.incrementVal=function(){"h"===a.focusInput?a.incrementHours():"m"===a.focusInput&&a.incrementMinutes()},a.decrementVal=function(){"h"===a.focusInput?a.decrementHours():"m"===a.focusInput&&a.decrementMinutes()}}]).directive("euiTimespinner",function(){return{restrict:"EA",require:["euiTimespinner","?^ngModel"],controller:"TimeSpinnerController",controllerAs:"euiTimespinner",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timespinner/timespinner.html"},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("eui.typeahead",["eui.position"]).factory("euiTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("euiTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$euiPosition","euiTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){K.moveInProgress||(K.moveInProgress=!0,K.$digest()),S&&g.cancel(S),S=g(function(){K.matches.length&&n(),K.moveInProgress=!1},r)}function n(){K.position=C?k.offset(b):k.position(b),K.position.top+=b.prop("offsetHeight")}var o,p,q=[9,13,27,38,40],r=200,s=a.$eval(c.typeaheadMinLength);s||0===s||(s=1);var t,u,v=a.$eval(c.typeaheadWaitMs)||0,w=a.$eval(c.typeaheadEditable)!==!1,x=e(c.typeaheadLoading).assign||angular.noop,y=e(c.typeaheadOnSelect),z=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,A=e(c.typeaheadNoResults).assign||angular.noop,B=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,C=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,D=c.typeaheadAppendToElementId||!1,E=a.$eval(c.typeaheadFocusFirst)!==!1,F=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,G=e(c.ngModel),H=e(c.ngModel+"($$$p)"),I=function(b,c){return angular.isFunction(G(a))&&p&&p.$options&&p.$options.getterSetter?H(b,{$$$p:c}):G.assign(b,c)},J=l.parse(c.euiTypeahead),K=a.$new(),L=a.$on("$destroy",function(){K.$destroy()});K.$on("$destroy",L);var M="typeahead-"+K.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var N=angular.element("<div eui-typeahead-popup></div>");N.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&N.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var O=function(){K.matches=[],K.activeIdx=-1,b.attr("aria-expanded",!1)},P=function(a){return M+"-option-"+a};K.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",P(a))});var Q=function(a,b){return K.matches.length>b&&a?a.toUpperCase()===K.matches[b].label.toUpperCase():!1},R=function(c){var d={$viewValue:c};x(a,!0),A(a,!1),f.when(J.source(a,d)).then(function(e){var f=c===o.$viewValue;if(f&&t)if(e&&e.length>0){K.activeIdx=E?0:-1,A(a,!1),K.matches.length=0;for(var g=0;g<e.length;g++)d[J.itemName]=e[g],K.matches.push({id:P(g),label:J.viewMapper(K,d),model:e[g]});K.query=c,n(),b.attr("aria-expanded",!0),F&&1===K.matches.length&&Q(c,0)&&K.select(0)}else O(),A(a,!0);f&&x(a,!1)},function(){O(),x(a,!1),A(a,!0)})};C&&(angular.element(i).bind("resize",m),h.find("body").bind("scroll",m));var S;K.moveInProgress=!1,K.query=void 0;var T,U=function(a){T=g(function(){R(a)},v)},V=function(){T&&g.cancel(T)};O(),K.select=function(d){var e,f,h={};u=!0,h[J.itemName]=f=K.matches[d].model,e=J.modelMapper(a,h),I(a,e),o.$setValidity("editable",!0),o.$setValidity("parse",!0),y(a,{$item:f,$model:e,$label:J.viewMapper(a,h)}),O(),K.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.bind("keydown",function(a){if(0!==K.matches.length&&-1!==q.indexOf(a.which)){if(-1===K.activeIdx&&(9===a.which||13===a.which))return O(),void K.$digest();a.preventDefault(),40===a.which?(K.activeIdx=(K.activeIdx+1)%K.matches.length,K.$digest()):38===a.which?(K.activeIdx=(K.activeIdx>0?K.activeIdx:K.matches.length)-1,K.$digest()):13===a.which||9===a.which?K.$apply(function(){K.select(K.activeIdx)}):27===a.which&&(a.stopPropagation(),O(),K.$digest())}}),b.bind("blur",function(){z&&K.matches.length&&-1!==K.activeIdx&&!u&&(u=!0,K.$apply(function(){K.select(K.activeIdx)})),t=!1,u=!1});var W=function(a){b[0]!==a.target&&3!==a.which&&0!==K.matches.length&&(O(),j.$$phase||K.$digest())};h.bind("click",W),a.$on("$destroy",function(){h.unbind("click",W),(C||D)&&X.remove(),C&&(angular.element(i).unbind("resize",m),h.find("body").unbind("scroll",m)),N.remove()});var X=d(N)(K);C?h.find("body").append(X):D!==!1?angular.element(h[0].getElementById(D)).append(X):b.after(X),this.init=function(b,c){o=b,p=c,o.$parsers.unshift(function(b){return t=!0,0===s||b&&b.length>=s?v>0?(V(),U(b)):R(b):(x(a,!1),V(),O()),w?b:b?void o.$setValidity("editable",!1):(o.$setValidity("editable",!0),null)}),o.$formatters.push(function(b){var c,d,e={};return w||o.$setValidity("editable",!0),B?(e.$model=b,B(a,e)):(e[J.itemName]=b,c=J.viewMapper(a,e),e[J.itemName]=void 0,d=J.viewMapper(a,e),c!==d?c:b)})}}]).directive("euiTypeahead",function(){return{controller:"euiTypeaheadController",require:["ngModel","^?ngModelOptions","euiTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("euiTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("euiTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("euiTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("eui.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","euiTypeaheadParser","$log","$typeaheadSuppressWarning",function(a,b,c,d){return d||c.warn("typeaheadParser is now deprecated. Use euiTypeaheadParser instead."),b}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$euiPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k){var l=[9,13,27,38,40],m=200;return{require:["ngModel","^?ngModelOptions"],link:function(n,o,p,q){function r(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),V&&d.cancel(V),V=d(function(){N.matches.length&&s(),N.moveInProgress=!1},m)}function s(){N.position=F?h.offset(o):h.position(o),N.position.top+=o.prop("offsetHeight")}k||j.warn("typeahead is now deprecated. Use eui-typeahead instead.");var t=q[0],u=q[1],v=n.$eval(p.typeaheadMinLength);v||0===v||(v=1);var w,x,y=n.$eval(p.typeaheadWaitMs)||0,z=n.$eval(p.typeaheadEditable)!==!1,A=b(p.typeaheadLoading).assign||angular.noop,B=b(p.typeaheadOnSelect),C=angular.isDefined(p.typeaheadSelectOnBlur)?n.$eval(p.typeaheadSelectOnBlur):!1,D=b(p.typeaheadNoResults).assign||angular.noop,E=p.typeaheadInputFormatter?b(p.typeaheadInputFormatter):void 0,F=p.typeaheadAppendToBody?n.$eval(p.typeaheadAppendToBody):!1,G=p.typeaheadAppendToElementId||!1,H=n.$eval(p.typeaheadFocusFirst)!==!1,I=p.typeaheadSelectOnExact?n.$eval(p.typeaheadSelectOnExact):!1,J=b(p.ngModel),K=b(p.ngModel+"($$$p)"),L=function(a,b){return angular.isFunction(J(n))&&u&&u.$options&&u.$options.getterSetter?K(a,{$$$p:b}):J.assign(a,b)},M=i.parse(p.typeahead),N=n.$new(),O=n.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",O);var P="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());o.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":P});var Q=angular.element("<div typeahead-popup></div>");Q.attr({id:P,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(p.typeaheadTemplateUrl)&&Q.attr("template-url",p.typeaheadTemplateUrl),angular.isDefined(p.typeaheadPopupTemplateUrl)&&Q.attr("popup-template-url",p.typeaheadPopupTemplateUrl);var R=function(){N.matches=[],N.activeIdx=-1,o.attr("aria-expanded",!1)},S=function(a){return P+"-option-"+a};N.$watch("activeIdx",function(a){0>a?o.removeAttr("aria-activedescendant"):o.attr("aria-activedescendant",S(a))});var T=function(a,b){return N.matches.length>b&&a?a.toUpperCase()===N.matches[b].label.toUpperCase():!1},U=function(a){var b={$viewValue:a};A(n,!0),D(n,!1),c.when(M.source(n,b)).then(function(c){var d=a===t.$viewValue;if(d&&w)if(c&&c.length>0){N.activeIdx=H?0:-1,D(n,!1),N.matches.length=0;for(var e=0;e<c.length;e++)b[M.itemName]=c[e],N.matches.push({id:S(e),label:M.viewMapper(N,b),model:c[e]});N.query=a,s(),o.attr("aria-expanded",!0),I&&1===N.matches.length&&T(a,0)&&N.select(0)}else R(),D(n,!0);d&&A(n,!1)},function(){R(),A(n,!1),D(n,!0)})};F&&(angular.element(f).bind("resize",r),e.find("body").bind("scroll",r));var V;N.moveInProgress=!1,R(),N.query=void 0;var W,X=function(a){W=d(function(){U(a)},y)},Y=function(){W&&d.cancel(W)};t.$parsers.unshift(function(a){return w=!0,0===v||a&&a.length>=v?y>0?(Y(),X(a)):U(a):(A(n,!1),Y(),R()),z?a:a?void t.$setValidity("editable",!1):(t.$setValidity("editable",!0),null)}),t.$formatters.push(function(a){var b,c,d={};return z||t.$setValidity("editable",!0),E?(d.$model=a,E(n,d)):(d[M.itemName]=a,b=M.viewMapper(n,d),d[M.itemName]=void 0,c=M.viewMapper(n,d),b!==c?b:a)}),N.select=function(a){var b,c,e={};x=!0,e[M.itemName]=c=N.matches[a].model,b=M.modelMapper(n,e),L(n,b),t.$setValidity("editable",!0),t.$setValidity("parse",!0),B(n,{$item:c,$model:b,$label:M.viewMapper(n,e)}),R(),N.$eval(p.typeaheadFocusOnSelect)!==!1&&d(function(){o[0].focus()},0,!1)},o.bind("keydown",function(a){if(0!==N.matches.length&&-1!==l.indexOf(a.which)){if(-1===N.activeIdx&&(9===a.which||13===a.which))return R(),void N.$digest();a.preventDefault(),40===a.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===a.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===a.which||9===a.which?N.$apply(function(){N.select(N.activeIdx)}):27===a.which&&(a.stopPropagation(),R(),N.$digest())}}),o.bind("blur",function(){C&&N.matches.length&&-1!==N.activeIdx&&!x&&(x=!0,N.$apply(function(){N.select(N.activeIdx)})),w=!1,x=!1});var Z=function(a){o[0]!==a.target&&3!==a.which&&0!==N.matches.length&&(R(),g.$$phase||N.$digest())};e.bind("click",Z),n.$on("$destroy",function(){e.unbind("click",Z),(F||G)&&$.remove(),F&&(angular.element(f).unbind("resize",r),e.find("body").unbind("scroll",r)),Q.remove()});var $=a(Q)(N);F?e.find("body").append($):G!==!1?angular.element(e[0].getElementById(G)).append($):o.after($)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(a,b){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(c,d,e){a||b.warn("typeahead-popup is now deprecated. Use eui-typeahead-popup instead."),c.templateUrl=e.templateUrl,c.isOpen=function(){return c.matches.length>0},c.isActive=function(a){return c.active==a},c.selectActive=function(a){c.active=a},c.selectMatch=function(a){c.select({activeIdx:a})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(a,b,c,d,e){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(f,g,h){d||e.warn("typeahead-match is now deprecated. Use eui-typeahead-match instead.");var i=c(h.templateUrl)(f.$parent)||"template/typeahead/typeahead-match.html";a(i).then(function(a){b(a.trim())(f,function(a){g.replaceWith(a)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(a,b,c,d){function e(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(a){return/<.*>/g.test(a)}var g;return g=b.has("$sanitize"),function(b,h){return d||c.warn("typeaheadHighlight is now deprecated. Use euiTypeaheadHighlight instead."),!g&&f(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=h?(""+b).replace(new RegExp(e(h),"gi"),"<strong>$&</strong>"):b,g||(b=a.trustAsHtml(b)),b}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n    <div class="panel-heading" ng-keypress="toggleOpen($event)">\n        <h4 class="panel-title">\n            <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()"\n               eui-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n        </h4>\n    </div>\n    <div class="panel-collapse collapse" eui-collapse="!isOpen">\n        <div class="panel-body" ng-transclude></div>\n    </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/block/block.html",[]).run(["$templateCache",function(a){a.put("template/block/block.html",'<div class="eui-block" >\n    <div class="title">{{title}}</div>\n    <div></div>\n</div>')}]),angular.module("template/button/button.html",[]).run(["$templateCache",function(a){a.put("template/button/button.html",'<a class="eui-button">\n    <span class="eui-button-text"></span>\n    <span class="eui-button-allow eui-button-menu" style="display: none"></span>\n</a>')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/checkbox/checkbox.html",[]).run(["$templateCache",function(a){a.put("template/checkbox/checkbox.html",'<div ng-style="checkboxStyle">\n    <div ng-repeat="row in data track by row.value">\n        <label ng-click="getCheckedRows()">\n\n            <!--<label for={{row.uuid}} ng-show="row.show">{{row.llabel}}</label>-->\n\n            <input class={{styletype}} type="checkbox" id={{row.uuid}} ng-show="row.show"\n                    ng-disabled=row.disabled value={{row.value}} ng-model="row.checked">\n            <label for={{row.uuid}} ng-show="row.show">{{row.label}}</label>\n\n            <!--{{row.llabel}}\n            <input type="checkbox" value={{row.value}} ng-model="row.checked"/>\n            {{row.rlabel}}-->\n        </label>\n    </div>\n</div>\n\n')}]),angular.module("template/combo/combo.html",[]).run(["$templateCache",function(a){a.put("template/combo/combo.html",'<span class="eui-buttonedit" ng-style="inputStyle">\n    <a class="eui-buttonedit-border">\n        <input type="text" class="eui-buttonedit-input" autocomplete="off" ng-model="combo.text"  ng-disabled= inputDisabled >\n        <span class="eui-buttonedit-buttons" ng-click="onButtonClick($event)">\n            <span ng-style="buttonStyle"></span>\n        </span>\n    </a>\n</span>\n')}]),angular.module("template/comboCheckbox/comboCheckbox.html",[]).run(["$templateCache",function(a){a.put("template/comboCheckbox/comboCheckbox.html",'<div style="position: relative">\n    <eui-combo width="comboWidth" height="comboHeight" on-click="onClick()" combo= "combo"\n           icon-cls="eui-icon-dropDownArrow" disabled=disabled input-disabled = "true" ng-click="clickCombo($event)"></eui-combo>\n    <div class="eui-panel" ng-style="panelStyle" style="z-index: 500">\n        <div class="eui-combo-panel" ng-style="comboStyle" >\n            <div ng-repeat="row in selectData track by $index" ng-click="select(row, $index, $event)"\n                 class="eui-combobox-item {{row.style}}">{{row.name}}</div>\n        </div>\n    </div>\n</div>')}]),angular.module("template/tree/tree.html",[]).run(["$templateCache",function(a){a.put("template/tree/tree.html",'<ul class="nav nav-list nav-pills nav-stacked eui-tree">\n    <li eui-right-menu menu-target=\'{{menuTarget}}\' ng-repeat="row in tree_rows | filter:{visible:true} track by row.branch.uid"\n        ng-animate="\'eui-tree-animate\'" ng-class="\'level-\' + {{ row.level }} + (row.branch.selected ? \' active\':\'\')"\n        class="eui-tree-row">\n        <div ng-class="{\'eui-tree-selectedBg\': row.branch.labelSelected}" style="margin: 0 5px;"\n             ng-mouseover="user_mouseover_branch($event, row.branch)"\n             ng-right-click="user_right_click($event, row.branch)"\n             ng-click="user_clicks_branch($event,row.branch)" ng-dblclick="user_dbclick_branch(row.branch)">\n            <i ng-class="row.treeIcon" ng-click="expanded($event,row)" class="indented tree-icon"> </i>\n            <i ng-class="row.branchIcon" class="indented" style="position: relative;top:1px;"></i>\n            <!--<input type="checkbox" ng-model="row.branch.selected" class="indented" ng-click="user_select($event,row.branch)"-->\n                   <!--ng-show="showCheckBox">-->\n            <span class="indented eui-tree-checkbox" ng-class="row.checkboxIcon"\n                  ng-click="user_select($event,row.branch)" ng-show="showCheckBox"></span>\n            <!--<span class="indented tree-label">{{ row.label }} </span>-->    <!--原码-->\n\n            <!--\n            修改：自定义HTML标签\n            周艳平：2016年11月15日15:44:29\n            -->\n            <span class="indented tree-label" data-ng-bind-html="row.fmtlabel"></span>\n            <!--<span class="indented tree-label" ng-bind-html="data1"></span>-->\n        </div>\n    </li>\n</ul>\n')}]),angular.module("template/comboTree/comboTree.html",[]).run(["$templateCache",function(a){a.put("template/comboTree/comboTree.html",'<div style="position: relative">\n    <eui-combo width="comboWidth" height="comboHeight" on-click="onClick()" text-value= "textValue"\n           icon-cls="eui-icon-dropDownArrow" disabled=disabled input-disabled = "true" ng-click="clickCombo($event)"></eui-combo>\n    <div class="eui-panel" ng-style="panelStyle" style="z-index: 500">\n        <div class="eui-combo-panel">\n            <eui-tree ng-style="treeStyle"\n                tree-data="treeData"\n                tree-options = "options"\n                tree-control="treeControl"></eui-tree>\n        </div>\n    </div>\n</div>')}]),angular.module("template/customnav/customnav.html",[]).run(["$templateCache",function(a){a.put("template/customnav/customnav.html",'<div style="position: absolute;">\n  <div style="float: left;width: {{totalWidth}}px;overflow: hidden;"><ul>\n    <ui ng-repeat="nav in showItems" class="customnav-item" style="width: {{itemWidth}}px;">{{nav.title}}<div ng-click="selectItem(nav)" ng-class="isOpen ? (nav.selected ? \'select\' : \'no-select\') : \'no-select\'"></div></ui>\n  </ul></div>\n  <div style="float: left;">\n    <span class="glyphicon glyphicon-option-horizontal" ng-click="moveToggle()" style="font-size: 30px;top: 10px;cursor: pointer;"></span>\n  </div>\n</div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <eui-daypicker ng-switch-when="day" tabindex="0"></eui-daypicker>\n  <eui-monthpicker ng-switch-when="month" tabindex="0"></eui-monthpicker>\n  <eui-yearpicker ng-switch-when="year" tabindex="0"></eui-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div eui-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n     eui-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button ng-show="showClose" type="button" class="close" ng-click="close($event)"\n                        data-dismiss="modal" style="position: absolute;font-size: 12px;right: 10px;top: 8px;">\n                    <span aria-hidden="true" style="font-family: cursive;font-size: 12px;font-weight: bold;color: #294358;">X</span>\n                    <span class="sr-only">Close</span>\n                </button>\n                <h2 class="modal-title" ng-mousedown="mousedown($event)" style="display: block;">{{title}}</h2>\n            </div>\n            <div eui-modal-transclude style="/*background-color: #fff;*/"></div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("template/window/window.html",[]).run(["$templateCache",function(a){a.put("template/window/window.html",'<div window-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal window fade"\n     ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + openOffset, display: \'block\'}">\n    <div class="modal-content">\n        <div class="eui-window-header">\n            <!--<span class="mini-tools">-->\n                <!--<span class="mini-tools-min" ng-show="icon.min"  ng-click="minWindow()"></span>-->\n                <!--<span class="mini-tools-max" ng-show="icon.max" ng-click="maxWindow()"></span>-->\n                <!--<span class="mini-tools-close" ng-show="icon.close" ng-click="close($event)"></span>-->\n            <!--</span>-->\n            <span class="eui-window-tools">\n                <span class="eui-window-tools-min" ng-show="icon.max" title="最小化" ng-click="minWindow()"></span>\n                <span class="eui-window-tools-max" ng-show="icon.max" title="最大化" ng-click="maxWindow()"></span>\n                <span class="eui-window-tools-close" ng-show="icon.close" title="关闭" ng-click="close($event)"></span>\n            </span>\n            <span class="modal-title" ng-mousedown="mousedown($event)" style="display: block;">{{title}}　</span>\n        </div>\n        <div window-transclude style="padding: 10px;background-color: #fff;border-top: 1px solid #d1d1d1;"></div>\n    </div>\n</div>')}]),angular.module("template/fieldset/fieldset.html",[]).run(["$templateCache",function(a){a.put("template/fieldset/fieldset.html",'<div class="field-set-pane">\n    <fieldset class="fieldset" ng-class=\'{hideFieldset: !isShow}\'>\n        <legend>\n            <!--<label>\n                <input class="field-set-checkbox" ng-click="toggleOpen()" ng-checked=\'isShow\' type="checkbox"/>\n                {{label}}\n            </label>-->\n            <input class="eui-fieldset-checkbox" type="checkbox" id="{{uuid}}" ng-checked=\'isShow\'\n                   ng-disabled=disabled ng-click="toggleOpen()" >\n            <label for="{{uuid}}" >{{label}}</label>\n        </legend>\n        <div ng-show="isShow"></div>\n    </fieldset>\n</div>\n')}]),angular.module("template/fileupload/fileupload.html",[]).run(["$templateCache",function(a){a.put("template/fileupload/fileupload.html",'<div>\n  <div>\n    <p>选择上传文件(可多选)</p>\n    <input class="btn btn-default btn-sm" type="file" multiple id="fileToUpload"\n           style="display: inline;float: left;height: 30px;"/>\n    <input class="btn btn-default btn-sm" type="button" ng-click="uploadFile()"\n           ng-disabled="upload_disabled" value="上传" style="display: inline;float: left;"/>\n  </div>\n  <div style="height: 300px;overflow-y: auto;">\n    <div ng-repeat="file in files">\n      <div id="fileInfo">{{file.fileName}},&nbsp;&nbsp;{{file.fileSizeC}}</div>\n      <div class="progress" style="display: inline;float: left;width: 100%;">\n        <div class="progress-bar progress-bar-info" role="progressbar"\n             aria-valuenow="{{file.percentComplete}}" aria-valuemin="0" aria-valuemax="100"\n             style="width: {{file.percentComplete}}%;">\n          {{file.percentComplete}}%\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/grid/grid.html",[]).run(["$templateCache",function(a){a.put("template/grid/grid.html",'<div class="panel datagrid" ng-style="gridStyle.panel">\n    <div class="panel-header" style="width: 100%;" ng-show="gridOptions.title">\n        <div class="panel-title">{{gridOptions.title}}</div>\n        <div class="panel-tool" ng-click="showPanel()"><a class="panel-tool-collapse"></a></div>\n    </div>\n    <div class="datagrid-wrap panel-body panel-body-noheader" title="" ng-style="gridStyle.datagridWrap">\n        <div class="datagrid-view" ng-style="gridStyle.datagridView">\n            <div class="datagrid-view1" ng-style="gridStyle.datagridView1">\n                <div class="datagrid-header" ng-style="gridStyle.datagridView1head">\n                    <div class="datagrid-header-inner" ng-show="gridOptions.showHeader">\n                        <table class="datagrid-htable" border="0" cellspacing="0" cellpadding="0" ng-style="gridStyle.datagridView1htable">\n                            <tbody>\n                            <tr class="datagrid-header-row" ng-repeat="frozenColumns in frozenColumnsRows">\n                                <td ng-show="frozenColumnsRows.rownumbers" rowspan="1" class="datagrid-td-rownumber"><div class="datagrid-header-rownumber"></div></td>\n                                <td ng-show="frozenColumnsRows.checkbox">\n                                    <div class="datagrid-header-check">\n                                        <input type="checkbox" ng-click="checkBoxSelect($event, frozenColumnsRows.checked)" ng-model="frozenColumnsRows.checked">\n                                    </div>\n                                </td>\n                                <td ng-repeat="column in frozenColumns track by $index" field={{column.field}} colspan={{column.colspan}} rowspan={{column.rowspan}}>\n                                    <div class="datagrid-cell" ng-style="{\'width\':column.width, \'text-align\':column.halign}">\n                                        <span>{{column.title}}</span>\n                                        <span class="datagrid-sort-icon">&nbsp;</span>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div class="datagrid-body" ng-style="gridStyle.datagridView1body">\n                    <div class="datagrid-body-inner">\n                        <table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0">\n                            <tbody>\n                            <tr ng-repeat="row in frozenDataRows" id={{row.id}} datagrid-row-index={{row.index}}  class="datagrid-row"\n                                ng-class="{\'datagrid-row-alt\':row.striped}" ng-style="row.rowStyle"\n                                ng-dblclick="bindEvent.bodyDblclick($event, row.index)" ng-click="bindEvent.bodyClick($event,row.index)"\n                                ng-mouseover="bindEvent.bodyMouseover($event)" ng-mouseleave="bindEvent.bodyMouseleave($event)"\n                                oncontextmenu="bindEvent.bodyContextmenu($event,row.index)">\n                                <td ng-show="frozenColumnsRows.rownumbers" class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">{{row.index + 1}}</div></td>\n                                <td ng-show="frozenColumnsRows.checkbox">\n                                    <div class="datagrid-cell-check "><input type="checkbox"></div>\n                                </td>\n                                <td ng-repeat="data in row.row" field={{data.field}} colspan={{data.colspan}} rowspan={{data.rowspan}} ng-class="data.tdClass" ng-style="data.style">\n                                    <div style="text-align:center;white-space:normal;height:auto;" class="datagrid-cell"  ng-class="data.class" ng-bind-html="data.value">\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div class="datagrid-footer" ng-style="gridStyle.datagridView1foot">\n                    <div class="datagrid-footer-inner" style="display: none;"></div>\n                </div>\n            </div>\n            <div class="datagrid-view2" ng-style="gridStyle.datagridView2">\n                <div class="datagrid-header" ng-style="gridStyle.datagridView2head">\n                    <div class="datagrid-header-inner"  ng-show="gridOptions.showHeader">\n                        <table class="datagrid-htable" border="0" cellspacing="0" cellpadding="0" ng-style="gridStyle.datagridView2htable">\n                            <tbody>\n                            <tr class="datagrid-header-row" ng-repeat="columns in columnsRows">\n                                <td ng-show="columnsRows.rownumbers" rowspan="1"><div class="datagrid-header-rownumber"></div></td>\n                                <td ng-show="columnsRows.checkbox">\n                                    <div class="datagrid-header-check"><input type="checkbox" ng-click="bindEvent.headchecked($event, columnsRows.checked)" ng-model="columnsRows.checked"></div>\n                                </td>\n                                <td ng-repeat="column in columns track by $index" field={{column.field}} colspan={{column.colspan}} rowspan={{column.rowspan}} ng-hide="column.hidden"\n                                    ng-mouseenter="bindEvent.headMouseenter($event)" ng-mouseleave="bindEvent.headMouseleave($event)" oncontextmenu="bindEvent.headContextmenu(e)">\n                                    <div class="datagrid-cell-group" ng-show="column.group">{{column.title}}</div>\n                                    <div class="datagrid-cell" ng-show="!column.group" ng-style="{\'width\':column.width, \'text-align\':column.halign}" title={{column.tips}}\n                                         ng-click="bindEvent.headGridcellClick($event)" ng-dblclick="bindEvent.headGridcellDblClick($event)">\n                                        <span dy-compile html="{{column.title}}"></span>\n                                        <span class="datagrid-sort-icon">&nbsp;</span>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div class="datagrid-body" ng-style="gridStyle.datagridView2body">\n                    <div class="datagrid-body-inner">\n                        <table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0">\n                            <tbody>\n                            <tr ng-repeat="row in dataRows" id={{row.id}} datagrid-row-index={{row.index}}  class="datagrid-row"\n                                ng-class="{\'datagrid-row-alt\':row.striped,\'datagrid-row-selected\':row.selected}" ng-style="row.rowStyle"\n                                ng-dblclick="bindEvent.bodyDblclick($event, row.index)" ng-click="bindEvent.bodyClick($event,row.index)"\n                                ng-mouseover="bindEvent.bodyMouseover($event)" ng-mouseleave="bindEvent.bodyMouseleave($event)"\n                                oncontextmenu="bindEvent.bodyContextmenu($event,row.index)" >\n                                <td ng-show="columnsRows.rownumbers" class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">{{row.index + 1}}</div></td>\n                                <td ng-show="columnsRows.checkbox">\n                                    <div style="" class="datagrid-cell-check"><input type="checkbox" ng-model="row.checked" ng-click="bindEvent.bodyChecked($event, row.checked)"></div>\n                                </td>\n                                <td ng-repeat="data in row.row" field={{data.field}} colspan={{data.colspan}} rowspan={{data.rowspan}} ng-class="data.tdClass" ng-style="data.style" ng-hide="data.hidden">\n                                    <div style="white-space:normal;" class="datagrid-cell" ng-style="{\'width\':data.width,height:data.height,\'text-align\':data.align}" title={{data.tips}}>\n                                        <div dy-compile html="{{data.value}}"></div>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div class="datagrid-footer" ng-style="gridStyle.datagridView2foot">\n                    <div class="datagrid-footer-inner" style="display: none;"></div>\n                </div>\n            </div>\n        </div>\n        <eui-pagination options = "pageOptions" ng-show="gridOptions.pagination"></eui-pagination>\n    </div>\n</div>\n')}]),angular.module("template/menus/menuitem.html",[]).run(["$templateCache",function(a){a.put("template/menus/menuitem.html",'<div class="eui-menuitem" ng-mouseleave="mouseleave()" ng-mouseover="mouseover()">\n    <div class="eui-menuitem-inner">\n        <span class="eui-menuitem-icon" style="display: inline-block"></span>\n        <span class="eui-menuitem-text"><span ng-transclude></span></span>\n        <span class="eui-menuitem-allow"></span>\n    </div>\n</div>\n\n')}]),angular.module("template/menus/menus.html",[]).run(["$templateCache",function(a){a.put("template/menus/menus.html",'<span style="position: relative">\n    <eui-button icon-cls="iconCls" flag="true" enabled="enabled"  plain="plain"\n               allow="true" ng-click="click($event)" ng-mouseover="mouseover($event)">{{titleName}}\n    </eui-button>\n    <span ng-mouseleave="mouseleave()" class="eui-menu-border">\n         <span ng-transclude></span>\n    </span>\n</span>\n\n\n\n\n')}]),angular.module("template/menus/menusIcon.html",[]).run(["$templateCache",function(a){a.put("template/menus/menusIcon.html",'<div ng-click="options.onClick()">\n    <a>\n        <div class="boxIcon"  ng-class="options.imageClass">\n            <span class="badge" style="margin-left: 25px;background-color: red;" ng-bind="options.mesAmount" ng-show="options.mesShow"></span>\n        </div>\n        <div ng-bind="options.menusText"></div>\n    </a>\n</div>\n\n\n\n\n\n\n')}]),angular.module("template/messageBox/alertContent.html",[]).run(["$templateCache",function(a){a.put("template/messageBox/alertContent.html",'<div class="eui_msgbox_alert">\n\n  <div style="padding: 34px 0px 12px 36px; overflow: auto;">\n    <div class="{{type}}-sign" style="float: left;"></div>\n\n    <div class="eui_msgobx_msg">{{message}}</div>\n  </div>\n\n  <div ng-if="showFooter" class="modal-footer" style="text-align: center;">\n    <button class="eui_msgbox_btn_ok" ng-click="ok()" data-dismiss="modal">确定</button>\n  </div>\n</div>\n')}]),angular.module("template/messageBox/confirmContent.html",[]).run(["$templateCache",function(a){a.put("template/messageBox/confirmContent.html",'<div>\n    <div style="padding: 34px 0px 12px 36px; overflow: auto;">\n        <div class="{{type}}-sign" style="float: left;"></div>\n\n        <div class="eui_msgbox_confirm_mgs">{{message}}\n            <br><input type="text" ng-show="showInput" ng-model="dataInput" style="width:200px;margin-top:5px;">\n        </div>\n    </div>\n\n    <div class="modal-footer" style="text-align: center;">\n        <button class="eui_msgbox_btn_ok" ng-click="ok()">确定</button>\n        <button class="eui_msgbox_btn_no" ng-click="no()" ng-show="showNo">否</button>\n        <button class="eui_msgbox_btn_cancel" ng-click="cancel()">取消</button>\n    </div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<div class="datagrid-pager pagination" ng-style="{\'width\':options.style.width}" ng-keydown="keydown($event)">\n  <table cellspacing="0" cellpadding="0" border="0">\n    <tbody>\n    <tr>\n      <td>\n        <select ng-model="pageList.pageSize" style="width: 47px;height: 25px;font-size: 12px;">\n          <option ng-repeat="option in pageList.list" value="{{option.name}}">{{option.name}}</option>\n        </select>\n      </td>\n      <td><div class="pagination-btn-separator"></div></td>\n      <td>\n        <a class="l-btn l-btn-small l-btn-plain" ng-click="selectFirstPage()">\n        <span class="l-btn-left l-btn-icon-left">\n          <span class="l-btn-text l-btn-empty">&nbsp;</span>\n          <span class="l-btn-icon pagination-first">&nbsp;</span></span></a></td>\n      <td><a class="l-btn l-btn-small l-btn-plain" ng-click="selectPreviousPage()">\n        <span class="l-btn-left l-btn-icon-left">\n          <span class="l-btn-text l-btn-empty">&nbsp;</span>\n          <span class="l-btn-icon pagination-prev">&nbsp;</span></span></a></td>\n      <td><div class="pagination-btn-separator"></div></td>\n      <td><span style="padding-left:6px;">第</span></td>\n      <td><input class="pagination-num" type="text" value="1" size="2" ng-model="pageData.pageNumber"></td>\n      <td><span style="padding-right:6px;">共{{pageData.totalPage}}页</span></td>\n      <td><div class="pagination-btn-separator"></div></td>\n      <td><a class="l-btn l-btn-small l-btn-plain" ng-click="selectNextPage()">\n        <span class="l-btn-left l-btn-icon-left">\n          <span class="l-btn-text l-btn-empty">&nbsp;</span>\n          <span class="l-btn-icon pagination-next">&nbsp;</span>\n        </span></a></td>\n      <td><a class="l-btn l-btn-small l-btn-plain" ng-click="selectLastPage()">\n<span class="l-btn-left l-btn-icon-left"><span class="l-btn-text l-btn-empty">&nbsp;</span>\n          <span class="l-btn-icon pagination-last">&nbsp;</span></span></a></td>\n<td><div class="pagination-btn-separator"></div></td>\n<td><a class="l-btn l-btn-small l-btn-plain" ng-click="refresh()" >\n        <span class="l-btn-left l-btn-icon-left"><span class="l-btn-text l-btn-empty">&nbsp;</span>\n          <span class="l-btn-icon pagination-load">&nbsp;</span></span></a></td></tr>\n</tbody></table>\n<div class="pagination-info">显示{{pageData.from}}到{{pageData.to}},共{{pageData.total}}记录</div><div style="clear:both;"></div></div>')}]),angular.module("template/panel/panel.html",[]).run(["$templateCache",function(a){a.put("template/panel/panel.html",'<div class="eui-panel eui-panel-default" ng-style="{\'width\': width}">\n    <div class="eui-panel-title">\n        <span></span>\n        {{panelTitle}}\n        <span class="eui-tools">\n            <span class="eui-tools-collapse" ng-show="icon.collapse" title="缩小" ng-click="collapsePanel()"></span>\n            <span class="eui-tools-apart" ng-show="icon.apart"></span>\n\n            <span class="eui-tools-max" ng-show="icon.max" title="最大化" ng-click="changeSizePanel()"></span>\n\n            <span class="eui-icon-close" ng-show="icon.close" title="关闭" ng-click="closePanel()"></span>\n            <span class="eui-icon-add" ng-show="icon.add" title="添加" ng-click="onbuttonclick(\'add\')"></span>\n            <span class="eui-icon-edit" ng-show="icon.edit" title="编辑" ng-click="onbuttonclick(\'edit\')"></span>\n            <span class="eui-icon-remove" ng-show="icon.remove" title="删除" ng-click="onbuttonclick(\'remove\')"></span>\n        </span>\n    </div>\n    <div style="display: block">\n        <div class="eui-panel-body" ng-style="{\'height\': height,\'overflow\': overflow}">\n        </div>\n        <div class="eui-panel-footer">{{panelFoot}}</div>\n    </div>\n</div>\n\n\n\n\n\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  eui-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  eui-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  eui-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    eui-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  eui-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  eui-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        eui-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  eui-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/radio/radio.html",[]).run(["$templateCache",function(a){a.put("template/radio/radio.html",'<div ng-style="checkboxStyle">\n    <div ng-repeat="row in data track by row.value">\n        <label ng-click="onChangeRow()">\n\n            <!--<label for={{row.uuid}} ng-show="row.show">{{row.llabel}}</label>-->\n\n            <input class={{styletype}} type="radio" id={{row.uuid}} ng-show="row.show"\n                    ng-disabled=row.disabled value={{row.value}} name="{{rdName}}"\n                   ng-model="row.model">\n            <label for={{row.uuid}} ng-show="row.show">{{row.label}}</label>\n\n            <!--{{row.left}}\n            <input type="radio" ng-model= "modelName" value="row.value">\n            {{row.right}}<br>-->\n        </label>\n    </div>\n</div>\n\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("template/scrollbar/scrollbar.html",[]).run(["$templateCache",function(a){a.put("template/scrollbar/scrollbar.html",'<div class="scrollbar">\n  <div class="moreup" ng-click="moreup($event)"></div>\n  <div class="custom">\n    <div ng-transclude></div>\n  </div>\n  <div class="moredown" ng-click="moredown($event)"></div>\n</div>\n')}]),angular.module("template/scrolltabset/scrolltabset.html",[]).run(["$templateCache",function(a){a.put("template/scrolltabset/scrolltabset.html",'<div>\n  <div style="display: inline-block;">\n    <div style="float: left;padding: 4px 1px;cursor: pointer;" ng-click="moreleft()">\n      <img ng-show="istabs" src="themes/default/images/tabs/allow_left.gif"/>\n      <img ng-show="!istabs" src="themes/default/images/menu/menu_botton_left_a.png"/>\n    </div>\n    <div style="float: left;width: 90%;overflow: hidden;">\n      <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n    </div>\n    <div style="float: left;padding: 4px 1px;cursor: pointer;" ng-click="moreright()">\n      <img ng-show="istabs" src="themes/default/images/tabs/allow_right.gif"/>\n      <img ng-show="!istabs" src="themes/default/images/menu/menu_botton_right_a.png"/>\n    </div>\n  </div>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabs"\n         ng-class="{active: tab.active}"\n         scroll-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" eui-tab-heading-transclude>{{heading}}\n    <button ng-show="closeable" type="button" ng-click="close($event)"\n      style="background: 0 0;border: 0;padding:0px;opacity: .5;">&times;\n    </button>\n  </a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         eui-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n');
}]),angular.module("template/timespinner/timespinner.html",[]).run(["$templateCache",function(a){a.put("template/timespinner/timespinner.html",'<div class="t-spinner" ng-mouseenter="showSpinner=true" ng-mouseleave="showSpinner=false">\n  <input class="text-center" ng-model="hours" ng-change="updateHours()" ng-class="{\'has-error\': invalidHours}" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n  <span class="tm">:</span>\n  <input class="text-center" ng-model="minutes" ng-change="updateMinutes()" ng-class="{\'has-error\': invalidMinutes}" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n  <span class="tm">:</span>\n  <input class="text-center" ng-model="seconds" maxlength="2" disabled="">\n  <div ng-show="showSpinner" class="spinner">\n    <div class="spinner-back" ng-click="incrementVal()">\n      <div class="spinner-up"></div>\n    </div>\n    <div class="spinner-back" ng-click="decrementVal()">\n      <div class="spinner-down"></div>\n    </div>\n  </div>\n</div>')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | euiTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div eui-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("app",[]).run(function(){}),function(a){function b(a,b){var c=o.controllerName;p.controller(c,["$scope","$timeout","$info","$euiModal","Server",function(c,d,e,f,g){function h(){e.hideMessageBox(k),c.showPage=!0}c.showPage=!1;var i,j,k=e.loading("数据加载中, 请稍后 ...","Loading");c.gd_methods=i={},c.options=b.options;var l={dataCenter:"",$scope:c,$timeout:d,$info:e,Server:g,$euiModal:f,grid:i,close:h};b.options.url?(j=b.options.pagination?{req:{method:"POST",url:b.options.url,data:{queryParams:b.options.queryParams,pageNumber:parseInt(b.options.pageNumber)-1,pageSize:b.options.pageSize,sort:b.options.sort}},cb:function(b){b.error?l.close():(l.dataCenter=b.body,a(l))}}:{req:{method:"GET",url:b.options.url,data:{}},cb:function(b){b.error?l.close():(l.dataCenter=b.body,a(l))}},g.reqData(j)):(l.close(),a(l))}])}function c(a,b){p.controller(a,b)}function d(){this.header={service_cost:"",status:""},this.pageSize="50",this.pageNumber="1",this.totalCount="100",this.orderField=null,this.orderType=null,this.parameters={},this.rowSets={},this.getRowset=function(a){return null}}function e(){this.primary=[],this.added=[],this.modified=[],this.deleted=[]}function f(a){return m.isEmpty(a)||"succ"!=a.header.status?!1:!0}function g(a){return void 0==a||""==a||null==a?!0:!1}function h(a){return!g(a)}function i(a){for(var b=0,c=a.split(""),d=0;d<c.length;d++)c[d].charCodeAt(0)<299?b++:b+=2;return b}function j(a,b){for(var c=0,d="",e=a.split(""),f=0;f<e.length&&(e[f].charCodeAt(0)<299?c++:c+=3,b>=c);f++)d+=e[f];return d}function k(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}function l(a){jQuery.extend(a,{load:b,loadCtr:c,dataCenter:d,rowSet:e,isSuccess:f,isEmpty:g,isNotEmpty:h,getByteLength:i,subStrByByteLength:j,camelToSnake:k})}var m=a.eui||(a.eui={}),n=a.angular;if(!n||!a.jQuery)throw"请先引入angular及jQuery文件！";jQuery.extend(m,n);var o={appName:"app",controllerName:"euiController",svcCallType:"JSON"},p=n.module(o.appName,["eui","util"]);l(m)}(window),function(a){var b={svcRequestTimeout:"20000"},c={v1:"v1"},d={grid:{data:{data:"body",pageData:"body.content",pageSize:"body.size",pageNumber:"body.number",total:"body.totalElements"},diffPage:-1}},e={xtzc:{name:"系统支撑",icon:"soam-icon-xtzc",path:"./app/template/function/xtzc.html"},flow:{name:"流程管理",icon:"soam-icon-flow",path:"./app/template/function/flow.html"},flowm:{name:"流程监控",icon:"soam-icon-flowm",path:"./app/template/function/flowm.html"},service:{name:"服务监控",icon:"soam-icon-service",path:"./app/template/function/service.html"},chart:{name:"统计报表",icon:"soam-icon-chart",path:"./app/template/function/chart.html"},logger:{name:"日志管理",icon:"soam-icon-logger",path:"./app/template/function/logger.html"}},f={requestMethod:"GET",url:"localhost:8080",prefix:"/xtzc",postfix:"/list",apiversion:c.v1,timeout:b,compParaConf:d,soamMenus:e,ServiceResponseTime:100};a.eui&&jQuery.extend(a.eui,{appData:f})}(window),angular.module("util",["ngCookies"]).factory("Auth",["$cookies",function(a){var b=a.getObject("user"),c={},d=function(c){(!c.role||c.role<0)&&(c.role=0),b=c,a.putObject("user",b)};return{isAuthorized:function(){return b&&b.role},setUser:d,isLoggedIn:function(){return b?!0:!1},getUser:function(){return b},setReqHead:function(){c.account=b.account,c.role=b.role},getReqHead:function(){return{account:b.account,role:b.role}},getId:function(){return b?b._id:null},getToken:function(){return b?b.token:""},setToken:function(a){if(a&&a.user){var b={user:a.user[0].userId,role:a.user[0].roleId,name:a.user[0].name,account:a.user[0].account};d(b)}},logout:function(){a.remove("user"),b=null,c=null}}}]).factory("Server",["$http","$info","soamDataTransfer","$timeout",function(a,b,c,d){var e=[],f=eui.appData,g=function(a){"wait"===a?(e.push(!0),angular.element(document.getElementsByTagName("body")).css("cursor",a)):(e.length>0&&e.shift(),e.length<=0&&angular.element(document.getElementsByTagName("body")).css("cursor",a))};return{reqData:function(e){e.req.status="start";var h=(f.timeout.svcRequestTimeout,{}),i=null,j=null,k=e.showLoadMsg||!1;if(k){var l=!0;if("undefined"!=typeof ServiceResponseTime&&null!=ServiceResponseTime){var m=ServiceResponseTime[e.req.url],n=eui.appData.ServiceResponseTime;void 0!=m&&"number"==typeof m&&m>0&&void 0!=n&&"number"==typeof n&&n>0&&n>m&&(l=!1,i=d(function(){console.log("======================"+e.req.status+"======================"),"start"==e.req.status&&(j=b.loading("数据加载中, 请稍后 ...","Loading"))},eui.appData.ServiceResponseTime))}l&&(j=b.loading("数据加载中, 请稍后 ...","Loading"))}e.req&&(h=$.extend({headers:{"Content-Type":"application/json"}},e.req));var o={};null===o?(b.alert("用户未登录."),e.cb({message:"用户未登录."})):(g("wait"),a(h).success(function(a){e.req.status="end",i=null,e.cb&&g("auto"),c.respDataParse(a,function(a){j?b.hideMessageBox(j,function(){e.cb(a)}):e.cb(a)})}).error(function(a,d){e.req.status="end",i=null,e.cb&&g("auto"),c.respDataParse(a,function(a){j?b.hideMessageBox(j,function(){e.cb(a)}):e.cb(a)})}))}}}]).factory("soamDataTransfer",["$info",function(a){function b(a){var b;return b}function c(b,c){var d={};if(!eui.isObject(b))throw new Error("返回的响应数据respData:"+b.toString()+"不是对象，请传入object对象数据");if(!b.hasOwnProperty("code")||!b.hasOwnProperty("message")||!b.hasOwnProperty("body"))throw new Error("请返回正确的响应数据形式");if(0!==b.code){var e=b.message;e&&a.alert(e),d={body:null,message:b.message,error:!0}}else d=b.body&&b.body.content?{body:{data:b.body.content,page:{pageNumber:parseInt(b.body.number)+1,pageSize:b.body.size,total:b.body.totalElements}},message:b.message,error:null}:{body:b.body,message:b.message,error:null};c(d)}return{reqDataHandling:b,respDataParse:c}}]);
//# sourceMappingURL=eui.min.js.map